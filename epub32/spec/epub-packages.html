<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>EPUB Packages 3.2</title>
		<script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove"></script>
		<script src="common/js/biblio.js" class="remove"></script>
		<script src="common/js/dfn-crossref.js" class="remove"></script>
		<script src="common/js/confreq-permalinks.js" class="remove"></script>
		<script src="common/js/copyright.js" class="remove"></script>
		<link href="common/css/common.css" rel="stylesheet" type="text/css" />
		<script class="remove">
          var respecConfig = {
              wg: "EPUB 3 Community Group",
              wgURI: "https://www.w3.org/community/epub3/",
              wgPublicList: "public-epub3",
              specStatus: "CG-FINAL",
              noRecTrack: true,
              shortName: "epub-packages",
              prevRecURI: "https://www.idpf.org/epub/31/spec/epub-packages-20170105.html",
              edDraftURI: "https://w3c.github.io/publ-epub-revision/epub32/spec/epub-packages.html",
              copyrightStart: "1999",
              editors: [
                  {
                      name: "Matt Garrish",
                      company: "DAISY Consortium",
                      companyURL: "https://www.daisy.org"
                  },
                  {
                      name: "Dave Cramer",
                      company: "Hachette Book Group",
                      companyURL: "https://www.hachettebookgroup.com"
                  }
              ],
              formerEditors: [
                  {
                      name: "Markus Gylling",
                      company: "International Digital Publishing Forum (IDPF)",
                      companyURL: "https://www.idpf.org"
                  },
                  {
                      name: "William McCoy",
                      company: "International Digital Publishing Forum (IDPF)",
                      companyURL: "https://www.idpf.org"
                  }
              ],
              processVersion: 2017,
              includePermalinks: true,
              permalinkEdge:     true,
              permalinkHide:     false,
              diffTool:          "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
			  github:			 {
				  repoURL: "https://github.com/w3c/publ-epub-revision",
				  branch: "master"
			  },
              localBiblio: biblio,
              preProcess: [fixDefinitionCrossrefs, addConformanceLinks],
              postProcess: [fixCopyright]
          };
      </script>
	</head>
	<body>
		<section id="abstract">
			<p>This specification defines semantics and conformance requirements for an <a data-lt="EPUB Package">EPUB®
					Package</a>. Each Package represents one <a>Rendition</a> of an <a>EPUB Publication</a>, and is
				defined by a <a>Package Document</a> that describes the content of the Rendition and sets the
				requirements for how <a>Publication Resources</a> are associated.</p>
			<p>This specification also defines the <a>EPUB Navigation Document</a>, a machine- and human-readable
				specialization of an <a>EPUB Content Document</a> that provides navigation aids such as the table of
				contents.</p>
			<p>This specification is one of a <a href="epub-spec.html#sec-intro-epub-specs">family of specifications</a>
				that compose [[EPUB32]], an interchange and delivery format for digital publications based on XML and
				Web Standards. It is meant to be read and understood in concert with the other specifications that make
				up EPUB 3</p>. <p>Refer to [[EPUB32Changes]] for more information on the differences between this
				specification and its predecessor.</p>
		</section>
		<section id="sotd"></section>
		<section id="sec-introduction">
			<h1>Introduction</h1>

			<section id="sec-terminology">
				<h2>Terminology</h2>

				<p>Terms with meanings specific to EPUB 3 are capitalized in this document (e.g., "Author", "Reading
					System"). A complete list of these <a href="epub-spec.html#sec-terminology">terms and
						definitions</a> is provided in [[!EPUB32]].</p>

				<p>Only the first instance of a term in a section is linked to its definition.</p>

			</section>

			<section id="conformance"></section>

			<section id="sec-overview-pfx">
				<h2>Prefix Mappings</h2>
				<p>For convenience, the following <a href="#sec-metadata-reserved-prefixes">reserved prefix mappings</a>
					are used in this specification.</p>

				<table class="mapping">
					<tr>
						<th>prefix</th>
						<th>URI</th>
					</tr>

					<tr>
						<td>
							<code>dcterms</code>
						</td>
						<td>
							<code>http://purl.org/dc/terms/</code>
						</td>
					</tr>

					<tr>
						<td>
							<code>opf</code>
						</td>
						<td>
							<code>http://www.idpf.org/2007/opf</code>
						</td>
					</tr>

					<tr>
						<td>
							<code>rendition</code>
						</td>
						<td>
							<code>http://www.idpf.org/vocab/rendition/#</code>
						</td>
					</tr>
				</table>
			</section>

		</section>
		<section id="sec-conformance">
			<h1>Conformance</h1>

			<section id="sec-package-conformance">
				<h2>Package Conformance</h2>

				<p>A conformant <a>EPUB Package</a> MUST meet all of the following criteria:</p>

				<dl class="conformance-list">
					<dt id="sec-package-conformance-packagedoc">Package Document</dt>
					<dd>
						<p id="confreq-package">It MUST contain exactly one <a>Package Document</a>, which MUST conform
							to the content requirements defined in <a href="#sec-package-content-conf">Package Document
								— Content Conformance</a>.</p>
					</dd>
					<dt id="sec-epub-rendition-content-conformance-all">Publication Resources</dt>
					<dd>
						<p id="confreq-rendition-manifest">All <a>Publication Resources</a> associated with the Package
							MUST be listed in the Package Document (as defined in <a href="#sec-manifest-elem"
								>manifest</a>).</p>
					</dd>
					<dt id="sec-package-conformance-nav">EPUB Navigation Document</dt>
					<dd>
						<p id="confreq-nav-occur">It MUST contain exactly one <a>EPUB Navigation Document</a>, which
							MUST conform to the content requirements defined in <a href="#sec-package-nav-content-conf"
								>EPUB Navigation Documents — Content Conformance</a>.</p>
					</dd>
					<dt id="sec-package-conformance-contentdocs">Content Documents</dt>
					<dd>
						<p id="confreq-cd">It MUST contain one or more <a>EPUB Content Documents</a>, each of which MUST
							conform to the content requirements defined in [[!ContentDocs32]].</p>
					</dd>
					<dt id="sec-package-conformance-css">CSS Style Sheets</dt>
					<dd>
						<p id="confreq-css">It MAY contain zero or more CSS Style Sheets, each of which MUST conform to
							the content requirements defined in <a href="epub-contentdocs.html#sec-css-content-conf">CSS
								Style Sheets — Content Conformance</a> [[!ContentDocs32]].</p>
					</dd>
					<dt id="sec-package-conformance-pls">Pronunciation Lexicons</dt>
					<dd>
						<p id="confreq-pls">It MAY contain zero or more PLS Documents, each of which MUST conform to the
							content requirements defined in <a href="epub-contentdocs.html#sec-pls-conf-content">PLS
								Documents — Content Conformance</a> [[!ContentDocs32]].</p>
					</dd>
					<dt id="sec-package-conformance-media-overlays">Media Overlay Documents</dt>
					<dd>
						<p id="confreq-mo">It MAY contain zero or more <a>Media Overlay Documents</a>, each of which
							MUST conform to the content requirements defined in [[!MediaOverlays32]].</p>
					</dd>
					<dt id="sec-package-conformance-additional">Additional Resources</dt>
					<dd>
						<p id="confreq-additional">It MAY contain zero or more <a>Publication Resources</a> in addition
							to those listed above, each of which MUST adhere to the requirements in <a
								href="epub-spec.html#sec-epub-pub-conformance-all">Publication Resources</a>
							[[!EPUB32]].</p>
					</dd>
				</dl>

			</section>

			<section id="sec-package-rs-conformance">
				<h2>Reading System Conformance</h2>

				<p>An <a>EPUB Reading System</a> MUST meet all of the following criteria:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-rendition-rs-package">It MUST process the <a>Package Document</a> as defined in
								<a href="#sec-package-rs-conf">Package Document — Reading System Conformance</a>, and
							honor all presentation logic expressed through the Package Document (e.g., the reading
							order, fallback chains, page progression direction and fixed layouts).</p>
					</li>
					<li>
						<p id="confreq-rendition-rs-nav">It MUST process the <a>EPUB Navigation Document</a> as defined
							in <a href="#sec-package-nav-rs-conf">EPUB Navigation Documents — Reading System
								Conformance</a>.</p>
					</li>
					<li>
						<p id="confreq-rendition-rs-manifest">It MUST NOT use any resources not listed in the Package
							Document in the processing of the Package (e.g., <code>META-INF</code> files ([[!OCF32]]) or
							resources specific to other Renditions of the EPUB Publication).</p>
					</li>
				</ul>

			</section>

		</section>
		<section id="sec-package-doc">
			<h1>Package Document</h1>

			<section id="sec-package-intro" class="informative">
				<h2>Introduction</h2>

				<p>The <a>Package Document</a> is an XML document that consists of a set of elements that each
					encapsulate information about a particular aspect of the <a>EPUB Package</a>. These elements serve
					to centralize metadata, detail the individual resources that compose the Package and provide the
					reading order and other information necessary to render the <a>Rendition</a>.</p>

				<p>The following list summarizes the information found in the Package Document:</p>

				<ul>
					<li>
						<p><a href="#sec-package-metadata">Metadata</a> — mechanisms to include and/or reference
							metadata applicable to the given Rendition of the <a>EPUB Publication</a>.</p>
					</li>
					<li>
						<p>A <a href="#sec-manifest-elem">manifest</a> — identifies (via IRI [[RFC3987]]) and describes
							(via MIME media type [[RFC4839]]) the set of resources that collectively compose the given
							Rendition.</p>
					</li>
					<li>
						<p>A <a href="#sec-spine-elem">spine</a> — an ordered sequence of ID references to top-level
							resources in the manifest from which all other resources in the set can be reached or
							utilized. The spine defines the default reading order of the given Rendition.</p>
					</li>
					<li>
						<p><a href="#sec-collection-elem">Collections</a> — a method of encapsulating and identifying
							subcomponents within the Package.</p>
					</li>
					<li>
						<p><a href="#sec-foreign-restrictions-manifest">Manifest fallback chains</a> — a mechanism that
							defines an ordered list of top-level resources as content equivalents. A Reading System can
							then choose between the resources based on which it is capable of rendering.</p>
					</li>
				</ul>

			</section>

			<section id="sec-package-content-conf">
				<h2>Content Conformance</h2>

				<p>A <a>Package Document</a> MUST meet all of the following criteria:</p>

				<dl class="conformance-list">
					<dt id="confreq-package-docprops">Document Properties</dt>
					<dd>
						<p id="confreq-package-xml"> It MUST meet the conformance constraints for XML documents defined
							in <a href="epub-spec.html#sec-xml-constraints">XML Conformance</a> [[!EPUB32]]. </p>
						<p id="confreq-package-docprops-schema">It MUST conform to all content conformance constraints
							expressed in <a href="#sec-package-def">Package Document Definition</a>.</p>
						<p class="note">Some of the content conformance constraints can be checked by validating content
							documents against the schemas provided in <a href="#app-package-schema">Appendix A, Package
								Document Schema</a>.</p>
					</dd>
					<dt id="confreq-package-fileprops">File Properties</dt>
					<dd>
						<p id="confreq-package-fileprops-name">The Package Document filename SHOULD use the file
							extension <code class="filename">.opf</code>.</p>
					</dd>
				</dl>

				<p id="media-type">Package Documents have the MIME media type <code>application/oebps-package+xml</code>
					[[!RFC4839]].</p>

			</section>

			<section id="sec-package-rs-conf">
				<h2>Reading System Conformance</h2>

				<p>An <a>EPUB Reading System</a> MUST meet all of the following criteria:</p>

				<dl class="conformance-list">
					<dt id="confreq-rs-package-base">Processing</dt>
					<dd>
						<p id="confreq-rs-package-def">It MUST process the Package Document in conformance with all
							Reading System conformance constraints expressed in <a href="#sec-package-def">Package
								Document Definition</a>.</p>
						<p id="confreq-rs-epub3-presentational-meta">It SHOULD process rendering metadata, as expressed
							in <a href="#sec-package-metadata-rendering">Package Rendering Metadata</a>.</p>
						<p id="confreq-rs-epub3-fxl-meta">It MUST process fixed layout metadata, as expressed in <a
								href="#sec-package-metadata-fxl">Fixed-Layout Properties</a>.</p>
						<p id="confreq-rs-epub3-fxl-conflicts">It MUST ignore proprietary metadata properties that
							pertain to layout expressions if they conflict behaviorally with the property semantics
							defined in <a href="#sec-package-metadata-fxl">Fixed-Layout Properties</a>.</p>
					</dd>
				</dl>

			</section>

			<section id="sec-package-def">
				<h2>Package Document Definition</h2>

				<p>All [[!XML]] elements defined in this section are in the <code>http://www.idpf.org/2007/opf</code>
					namespace [[!XML-NAMES]] unless otherwise specified.</p>

				<p>When an element defined in this section has mandatory text content, that content is referred to as
					the value of the element in the explanatory descriptions.</p>

				<section id="sec-package-elem">
					<h3>The <code>package</code> Element</h3>

					<p>The <code>package</code> element is the root element of the <a>Package Document</a> and defines
						various aspects of the <a>EPUB Package</a> (see the <a href="#sec-package-intro"
							>introduction</a> for a general overview).</p>

					<dl id="elemdef-opf-package" class="elemdef">
						<dt>Element Name</dt>
						<dd>
							<p><code>package</code></p>
						</dd>
						<dt>Usage</dt>
						<dd>
							<p>The <code>package</code> element is the root element of the Package Document.</p>
						</dd>
						<dt>Attributes</dt>
						<dd>
							<ul class="nomark">
								<li>
									<p>
										<a href="#attrdef-dir"><code>dir</code></a>
										<code>[optional]</code></p>
								</li>
								<li>
									<p>
										<a href="#attrdef-id"><code>id</code></a>
										<code>[optional]</code></p>
								</li>
								<li>
									<p>
										<a href="#attrdef-package-prefix"><code>prefix</code></a>
										<code>[optional]</code></p>
								</li>
								<li>
									<p>
										<a href="#attrdef-xml-lang"><code>xml:lang</code></a>
										<code>[optional]</code></p>
								</li>
								<li>
									<p>
										<a href="#attrdef-package-unique-identifier"><code>unique-identifier</code></a>
										<code>[required]</code></p>
								</li>
								<li>
									<p>
										<a href="#attrdef-package-version"><code>version</code></a>
										<code>[required]</code></p>
								</li>
							</ul>
						</dd>
						<dt>Content Model</dt>
						<dd>
							<p>In this order:</p>
							<ul class="nomark">
								<li>
									<p>
										<a class="codelink" href="#elemdef-opf-metadata"><code>metadata</code></a>
										<code>[exactly 1]</code></p>
								</li>
								<li>
									<p>
										<a href="#elemdef-opf-manifest"><code>manifest</code></a>
										<code>[exactly 1]</code></p>
								</li>
								<li>
									<p>
										<a href="#elemdef-opf-spine"><code>spine</code></a>
										<code>[exactly 1]</code></p>
								</li>
								<li>
									<p>
										<a href="#sec-opf2-guide"><code>guide</code></a>
										<code>[0 or 1]</code>
										<a href="epub-spec.html#legacy" class="legacy">(legacy)</a></p>
								</li>
								<li>
									<p>
										<a href="#sec-opf-bindings"><code>bindings</code></a>
										<code>[0 or 1]</code>
										<a href="epub-spec.html#deprecated" class="deprecated">(deprecated)</a></p>
								</li>
								<li>
									<p>
										<a href="#elemdef-collection"><code>collection</code></a>
										<code>[0 or more]</code></p>
								</li>
							</ul>
						</dd>
					</dl>

					<p id="attrdef-package-version">The <code>version</code> attribute specifies the EPUB specification
						version to which the given EPUB Package conforms. The attribute MUST have the value
							"<code>3.0</code>" to indicate compliance with this version of the specification.</p>

					<p id="attrdef-package-unique-identifier">The <code>unique-identifier</code> attribute takes an
						IDREF [[!XML]] that identifies the <a class="codelink" href="#sec-opf-dcidentifier"
								><code>dc:identifier</code></a> element that provides the preferred, or primary,
						identifier. Refer to <a href="#sec-package-metadata-identifiers">Publication Identifiers</a> for
						more information.</p>

					<p id="attrdef-package-prefix">The <code>prefix</code> attribute provides a declaration mechanism
						for prefixes not <a href="#sec-metadata-reserved-prefixes">reserved by this specification</a>.
						Refer to <a href="#sec-prefix-attr">The <code>prefix</code> Attribute</a> for more
						information.</p>

				</section>

				<section id="sec-shared-attrs">
					<h3>Shared Attributes</h3>

					<p>This section provides definitions for shared attributes (i.e., attributes that are allowed on two
						or more elements).</p>

					<dl class="variablelist">
						<dt id="attrdef-dir"><code>dir</code></dt>
						<dd>
							<p>Specifies the base text direction of the content and attribute values of the carrying
								element and its descendants.</p>
							<p>Inherent directionality specified using [[!Unicode]] takes precedence over this
								attribute.</p>
							<p>Allowed values are <code>ltr</code> (left-to-right) and <code>rtl</code>
								(right-to-left).</p>
							<div class="example">
								<pre>&lt;package … dir="ltr"&gt;</pre>
							</div>
							<p>Allowed on: <a href="#sec-collection-elem"><code>collection</code></a>, <a
									href="#sec-opf-dccontributor"><code>dc:contributor</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:coverage</code></a>, <a
									href="#sec-opf-dccreator"><code>dc:creator</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:description</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:publisher</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:relation</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:rights</code></a>, <a
									href="#sec-opf-dcsubject"><code>dc:subject</code></a>, <a href="#sec-opf-dctitle"
										><code>dc:title</code></a>, <a href="#sec-meta-elem"><code>meta</code></a> and
									<a href="#sec-package-elem"><code>package</code></a>.</p>
						</dd>
						<dt id="attrdef-href"><code>href</code></dt>
						<dd>
							<p>An absolute or relative IRI reference [[!RFC3987]] to a resource.</p>
							<div class="example">
								<pre>&lt;link rel="record"
      href="meta/9780000000001.xml" 
      media-type="application/marc"/&gt;</pre>
							</div>
							<p>Allowed on: <a href="#sec-item-elem"><code>item</code></a> and <a href="#sec-link-elem"
										><code>link</code></a>.</p>
						</dd>
						<dt id="attrdef-id"><code>id</code></dt>
						<dd>
							<p>The ID [[!XML]] of the element, which MUST be unique within the document scope.</p>
							<div class="example">
								<pre>&lt;dc:identifier id="pub-id"&gt;urn:isbn:97800000000001&lt;/dc:identifier&gt;</pre>
							</div>
							<p>Allowed on: <a href="#sec-collection-elem"><code>collection</code></a>, <a
									href="#sec-opf-dccontributor"><code>dc:contributor</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:coverage</code></a>, <a
									href="#sec-opf-dccreator"><code>dc:creator</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:date</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:description</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:format</code></a>, <a
									href="#sec-opf-dcidentifier"><code>dc:identifier</code></a>, <a
									href="#sec-opf-dclanguage"><code>dc:language</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:publisher</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:relation</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:rights</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:source</code></a>, <a
									href="#sec-opf-dcsubject"><code>dc:subject</code></a>, <a href="#sec-opf-dctitle"
										><code>dc:title</code></a>, <a href="#sec-opf-dctype"><code>dc:type</code></a>,
									<a href="#sec-item-elem"><code>item</code></a>, <a href="#sec-itemref-elem"
										><code>itemref</code></a>, <a href="#sec-link-elem"><code>link</code></a>, <a
									href="#sec-manifest-elem"><code>manifest</code></a>, <a href="#sec-meta-elem"
										><code>meta</code></a>, <a href="#sec-package-elem"><code>package</code></a> and
									<a href="#sec-spine-elem"><code>spine</code></a>.</p>
						</dd>
						<dt id="attrdef-media-type"><code>media-type</code></dt>
						<dd>
							<p>A media type [[!RFC2046]] that specifies the type and format of the referenced
								resource.</p>
							<div class="example">
								<pre>&lt;link rel="record"
      href="http://example.org/meta/12389347?format=xmp"
      media-type="application/xml"
      properties="xmp"/&gt;</pre>
							</div>
							<p>Allowed on: <a href="#sec-item-elem"><code>item</code></a> and <a href="#sec-link-elem"
										><code>link</code></a>.</p>
						</dd>
						<dt id="attrdef-properties"><code>properties</code></dt>
						<dd>
							<p>A space-separated list of <a href="#sec-property-datatype">property</a> values.</p>
							<p>Refer to each element's definition for the <a href="#sec-metadata-default-vocab">reserved
									vocabulary</a> that can be used with the attribute.</p>
							<div class="example">
								<pre>&lt;item id="nav" 
    href="nav.xhtml" 
    properties="nav"
    media-type="application/xhtml+xml"/&gt;</pre>
							</div>
							<p>Allowed on: <a href="#sec-item-elem"><code>item</code></a>, <a href="#sec-itemref-elem"
										><code>itemref</code></a> and <a href="#sec-link-elem"
								><code>link</code></a>.</p>
						</dd>
						<dt id="attrdef-refines"><code>refines</code></dt>
						<dd>
							<p>Identifies the expression or resource augmented by the element. The value of the
								attribute must be a relative IRI [[!RFC3987]] referencing the resource or element being
								described.</p>
							<p>The <code>refines</code> attribute is OPTIONAL depending on the type of metadata being
								expressed. When omitted, the element defines a <a href="#primary-expression">primary
									expression</a>.</p>
							<p>Allowed on: <a href="#sec-link-elem"><code>link</code></a> and <a href="#sec-meta-elem"
										><code>meta</code></a>.</p>
						</dd>
						<dt id="attrdef-xml-lang"><code>xml:lang</code></dt>
						<dd>
							<p>Specifies the language used in the contents and attribute values of the carrying element
								and its descendants, as defined in section <a
									href="https://www.w3.org/TR/2008/REC-xml-20081126/#sec-lang-tag">2.12 Language
									Identification</a> of [[!XML]].</p>
							<div class="example">
								<pre>&lt;package … xml:lang="ja"&gt;
   …
&lt;/package&gt;</pre>
							</div>
							<p>Allowed on: <a href="#sec-collection-elem"><code>collection</code></a>, <a
									href="#sec-opf-dccontributor"><code>dc:contributor</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:coverage</code></a>, <a
									href="#sec-opf-dccreator"><code>dc:creator</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:description</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:publisher</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:relation</code></a>, <a
									href="#sec-opf-dcmes-optional-def"><code>dc:rights</code></a>, <a
									href="#sec-opf-dcsubject"><code>dc:subject</code></a>, <a href="#sec-opf-dctitle"
										><code>dc:title</code></a>, <a href="#sec-meta-elem"><code>meta</code></a> and
									<a href="#sec-package-elem"><code>package</code></a>.</p>
						</dd>
					</dl>
				</section>

				<section id="sec-pkg-metadata">
					<h3>Metadata</h3>

					<section id="sec-metadata-elem">
						<h4>The <code>metadata</code> Element</h4>

						<p>The <code>metadata</code> element encapsulates meta information for the given
								<a>Rendition</a>.</p>

						<dl id="elemdef-opf-metadata" class="elemdef">
							<dt>Element Name</dt>
							<dd>
								<p><code>metadata</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>REQUIRED first child of <a href="#elemdef-opf-package"><code>package</code></a>.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<p>None</p>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p>In any order:</p>
								<ul class="nomark">
									<li>
										<p>
											<a class="codelink" href="#elemdef-opf-dcidentifier"
													><code>dc:identifier</code></a>
											<code>[1 or more]</code></p>
									</li>
									<li>
										<p>
											<a href="#elemdef-opf-dctitle"><code>dc:title</code></a>
											<code>[1 or more]</code></p>
									</li>
									<li>
										<p>
											<a href="#elemdef-opf-dclanguage"><code>dc:language</code></a>
											<code>[1 or more]</code></p>
									</li>
									<li>
										<p>
											<a href="#sec-opf-dcmes-optional"><code>DCMES Optional Elements</code></a>
											<code>[0 or more]</code></p>
									</li>
									<li>
										<p>
											<a href="#elemdef-meta"><code>meta</code></a>
											<code>[1 or more]</code></p>
									</li>
									<li>
										<p>
											<a href="#sec-opf2-meta">OPF2 <code>meta</code></a>
											<code>[0 or more]</code>
											<a href="epub-spec.html#legacy" class="legacy">(legacy)</a></p>
									</li>
									<li>
										<p>
											<a href="#elemdef-opf-link"><code>link</code></a>
											<code>[0 or more]</code></p>
									</li>
								</ul>
							</dd>
						</dl>

						<p>The Package Document <code>metadata</code> element has two primary functions:</p>

						<ol type="1">
							<li>
								<p>to provide a minimal set of meta information for Reading Systems to use to internally
									catalogue an <a>EPUB Publication</a> and make it available to a user (e.g., to
									present in a bookshelf).</p>
							</li>
							<li>
								<p>to provide access to all rendering metadata needed to control the layout and display
									of the Rendition's content (e.g., <a href="#sec-package-metadata-fxl">fixed-layout
										properties</a>).</p>
							</li>
						</ol>

						<p>The Package Document is not designed to provide complex metadata encoding capabilities. If
							more detailed information about an EPUB Publication is needed, metadata records (e.g., that
							conform to an international standard such as [[!ONIX]] or are created for custom purposes)
							can be associated using the <a href="#sec-link-elem"><code>link</code></a> element. This
							approach allows the metadata to be processed in its native form, avoiding the potential
							problems and information loss caused by translating to use the minimal Package Document
							structure.</p>

						<p id="core-metadata-reqs">In keeping with this philosophy, the Package Document only has the
							following minimal metadata requirements: it MUST include the [[!DC11]] <a
								href="#sec-opf-dcidentifier"><code>title</code></a>, <a href="#elemdef-opf-dcidentifier"
									><code>identifier</code></a> and <a href="#elemdef-opf-dclanguage"
									><code>language</code></a> elements together with the [[!DCTERMS]] <a
								href="#last-modified-date"><code>modified</code></a> property. All other metadata is
							OPTIONAL.</p>

						<aside class="example">
							<p>The following example shows the minimal set of metadata that Authors have to include in
								the Package Document.</p>
							<pre>&lt;package … unique-identifier="pub-id"&gt;
    …
    &lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
        &lt;dc:identifier id="pub-id"&gt;urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809&lt;/dc:identifier&gt;
        &lt;dc:title&gt;Norwegian Wood&lt;/dc:title&gt;
        &lt;dc:language&gt;en&lt;/dc:language&gt;
        &lt;meta property="dcterms:modified"&gt;2011-01-01T12:00:00Z&lt;/meta&gt;
    &lt;/metadata&gt;
    …
&lt;/package&gt;
</pre>
						</aside>

						<p>The <a href="#sec-meta-elem"><code>meta</code></a> element provides a generic mechanism for
							including metadata properties from any vocabulary. It is typically used to include rendering
							metadata defined in EPUB specifications, but MAY be used for any metadata purposes.</p>

						<div class="note">
							<p>See [[EPUBAccessibility]] for accessibility metadata recommendations.</p>
						</div>

					</section>

					<section id="sec-opf-dcmes-required">
						<h4>DCMES Required Elements</h4>

						<section id="sec-opf-dcidentifier">
							<h5>The <code>identifier</code> Element</h5>

							<p>The [[!DC11]] <code>identifier</code> element contains an identifier associated with the
								given <a>Rendition</a>, such as a <abbr title="Universally Unique Identifier"
									>UUID</abbr>, <abbr title="Digital Object Identfier">DOI</abbr> or <abbr
									title="International Standard Book Number">ISBN</abbr>.</p>

							<dl id="elemdef-opf-dcidentifier" class="elemdef">
								<dt>Element Name</dt>
								<dd>
									<p>
										<code>dc:identifier</code></p>
								</dd>
								<dt>Namespace</dt>
								<dd>
									<p><code>http://purl.org/dc/elements/1.1/</code></p>
								</dd>
								<dt>Usage</dt>
								<dd>
									<p>REQUIRED child of <a class="codelink" href="#elemdef-opf-metadata"
												><code>metadata</code></a>.</p>
								</dd>
								<dt>Attributes</dt>
								<dd>
									<ul class="nomark">
										<li>
											<p>
												<a href="#attrdef-id"><code>id</code></a>
												<code>[optional]</code></p>
										</li>
									</ul>
								</dd>
								<dt>Content Model</dt>
								<dd>
									<p>Text</p>
								</dd>
							</dl>

							<p>The <code>metadata</code> section MUST include an <code>identifier</code> element that
								contains an unambiguous identifier for the Rendition. This identifier MUST be marked as
								the <a>Unique Identifier</a> via the <code>package</code> element <a
									href="#attrdef-package-unique-identifier"><code>unique-identifier</code></a>
								attribute.</p>

							<aside class="example">
								<p>The following example shows the unique <code>identifier</code> element for an EPUB
									Publication.</p>
								<pre>&lt;package … unique-identifier="pub-id"&gt;
    &lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
        &lt;dc:identifier id="pub-id"&gt;
            urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809
        &lt;/dc:identifier&gt;
        …
    &lt;/metadata&gt;
&lt;/package&gt;</pre>
							</aside>

							<p>The Unique Identifier for each Rendition MAY differ, and a Rendition MAY include
								additional identifier elements.</p>

							<p>To differentiate different versions of the same EPUB Publication, this specification
								makes a distinction between the <a>Unique Identifier</a> for an EPUB Publication and the
									<a>Release Identifier</a> that uniquely identifies a specific version of it.</p>

							<p>To identify a specific version of a packaged EPUB Publication, a Release Identifier can
								be constructed by combining the Unique Identifier with the <a href="#last-modified-date"
									>last modified date</a> of the Rendition. For more information on the semantics and
								requirements of the Release Identifier, refer to <a
									href="#sec-metadata-elem-identifiers-pid">Release Identifier</a>.</p>

							<aside class="example">
								<p>The following example shows the two components of the Release Identifier.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    &lt;dc:identifier id="pub-id"&gt;
        urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809
    &lt;/dc:identifier&gt;
    &lt;meta property="dcterms:modified"&gt;2016-01-01T00:00:01Z&lt;/meta&gt;
    …
&lt;/metadata&gt;</pre>
							</aside>

							<p>Whenever a Rendition is modified, it MUST include a new last modified date.</p>

							<p>To determine whether an <code>identifier</code> conforms to an established system or has
								been granted by an issuing authority, Reading Systems SHOULD check for an <a
									href="#identifier-type"><code>identifier-type</code> property</a>.</p>

							<aside class="example">
								<p>The following example shows how an identifier can be additionally marked as a <a
										href="https://doi.org">DOI</a> using the identifier-type property. Here, <a
										href="https://ns.editeur.org/onix/en/5">ONIX codelist 5</a> is used to describe
									the product identifier type.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/">
    &lt;dc:identifier id="pub-id">urn:doi:10.1016/j.iheduc.2008.03.001&lt;/dc:identifier>
    &lt;meta refines="#pub-id" property="identifier-type" scheme="onix:codelist5">06&lt;/meta>
    …
&lt;/metadata></pre>
							</aside>

							<p>Reading Systems MUST trim all leading and trailing <a
									href="https://www.w3.org/TR/xml/#white">white space</a> [[!XML]] from the element
								value before processing the value.</p>

							<p>This specification imposes no additional restrictions or the requirements of the
								identifier except that it MUST be at least one character in length after white space has
								been trimmed. It is strongly encouraged that the identifier be a fully qualified URI,
								however.</p>

						</section>

						<section id="sec-opf-dctitle">
							<h5>The <code>title</code> Element</h5>

							<p>The [[!DC11]] <code>title</code> element represents an instance of a name given to the
									<a>EPUB Publication</a>.</p>

							<dl id="elemdef-opf-dctitle" class="elemdef">
								<dt>Element Name</dt>
								<dd>
									<p>
										<code>dc:title</code></p>
								</dd>
								<dt>Namespace</dt>
								<dd>
									<p><code>http://purl.org/dc/elements/1.1/</code></p>
								</dd>
								<dt>Usage</dt>
								<dd>
									<p>REQUIRED child of <a class="codelink" href="#elemdef-opf-metadata"
												><code>metadata</code></a>.</p>
								</dd>
								<dt>Attributes</dt>
								<dd>
									<ul class="nomark">
										<li>
											<p>
												<a href="#attrdef-dir"><code>dir</code></a>
												<code>[optional]</code></p>
										</li>
										<li>
											<p>
												<a href="#attrdef-id"><code>id</code></a>
												<code>[optional]</code></p>
										</li>
										<li>
											<p>
												<a href="#attrdef-xml-lang"><code>xml:lang</code></a>
												<code>[optional]</code></p>
										</li>
									</ul>
								</dd>
								<dt>Content Model</dt>
								<dd>
									<p>Text</p>
								</dd>
							</dl>

							<p>The <code>metadata</code> section MUST include at least one <code>title</code> element
								containing the title for the EPUB Publication.</p>

							<aside class="example">
								<p>The following example shows a basic title element.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    &lt;dc:title&gt;Norwegian Wood&lt;/dc:title&gt;
    …
&lt;/metadata&gt;
</pre>
							</aside>

							<p id="title-order"><a>Reading Systems</a> MUST recognize the first <code>title</code>
								element in document order as the main title of the EPUB Publication (i.e., the primary
								one to present to users). This specification does not define how to process additional
									<code>title</code> elements.</p>

							<aside class="example">
								<p>The following example shows a multi-part title:</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    &lt;dc:title&gt;THE LORD OF THE RINGS&lt;/dc:title&gt;
    &lt;dc:title&gt;Part One: The Fellowship of the Ring&lt;/dc:title&gt;
    …
&lt;/metadata&gt;
</pre>
								<p>The same title could be expressed using a single <code>dc:title</code> element as
									follows:</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    &lt;dc:title&gt;
        THE LORD OF THE RINGS, Part One: The Fellowship of the Ring
    &lt;/dc:title&gt;
    …
&lt;/metadata&gt;
</pre>
							</aside>

							<p>The title for each <a>Rendition</a> MAY differ.</p>

							<p>Reading Systems MUST trim all leading and trailing <a
									href="https://www.w3.org/TR/xml/#white">white space</a> [[!XML]] before processing
								the value.</p>

							<p>This specification imposes no additional restrictions or requirements on the title except
								that it MUST be at least one character in length after white space has been trimmed.</p>

						</section>

						<section id="sec-opf-dclanguage">
							<h5>The <code>language</code> Element</h5>

							<p>The [[!DC11]] <code>language</code> element specifies the language of the content of the
								given <a>Rendition</a>. This value is not inherited by the individual resources of the
								Rendition.</p>

							<dl id="elemdef-opf-dclanguage" class="elemdef">
								<dt>Element Name</dt>
								<dd>
									<p>
										<code>dc:language</code></p>
								</dd>
								<dt>Namespace</dt>
								<dd>
									<p><code>http://purl.org/dc/elements/1.1/</code></p>
								</dd>
								<dt>Usage</dt>
								<dd>
									<p>REQUIRED child of <a class="codelink" href="#elemdef-opf-metadata"
												><code>metadata</code></a>. Repeatable.</p>
								</dd>
								<dt>Attributes</dt>
								<dd>
									<p>
										<a href="#attrdef-id"><code>id</code></a>
										<code>[optional]</code></p>
								</dd>
								<dt>Content Model</dt>
								<dd>
									<p>Text</p>
								</dd>
							</dl>

							<p>The <code>metadata</code> section MUST include at least one <code>language</code> element
								with a value conforming to [[!BCP47]].</p>

							<aside class="example">
								<p>The following example shows an <a>EPUB Publication</a> is in U.S. English.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    …
    &lt;dc:language&gt;en-US&lt;/dc:language&gt;
    …
&lt;/metadata&gt;
</pre>
							</aside>

							<p>Additional <code>language</code> elements MAY be included for multilingual Publications,
								but each element's value MUST conform to [[!BCP47]]. The first <code>language</code>
								element in document order is considered the primary language of the rendition.</p>

							<p>Languages for each <a>Rendition</a> MAY differ.</p>

							<p>Reading Systems MUST trim all leading and trailing <a
									href="https://www.w3.org/TR/xml/#white">white space</a> [[!XML]] before processing
								the value.</p>

						</section>

					</section>

					<section id="sec-opf-dcmes-optional">
						<h4>DCMES Optional Elements</h4>

						<section id="sec-opf-dcmes-optional-def">
							<h5>General Definition</h5>

							<p>With the exception of <a href="#sec-opf-dcidentifier"><code>identifier</code></a>, <a
									href="#sec-opf-dclanguage"><code>language</code></a> and <a href="#sec-opf-dctitle"
										><code>title</code></a>, all other [[!DC11]] elements are designated as
								OPTIONAL. These elements conform to the following generalized definition:</p>

							<dl class="elemdef">
								<dt>Element Name</dt>
								<dd>
									<p>
										<code>contributor</code> | <code>coverage</code> | <code>creator</code> |
											<code>date</code> | <code>description</code> | <code>format</code> |
											<code>publisher</code> | <code>relation</code> | <code>rights</code> |
											<code>source</code> | <code>subject</code> | <code>type</code></p>
								</dd>
								<dt>Namespace</dt>
								<dd>
									<p><code>http://purl.org/dc/elements/1.1/</code></p>
								</dd>
								<dt>Usage</dt>
								<dd>
									<p>OPTIONAL child of <a class="codelink" href="#elemdef-opf-metadata"
												><code>metadata</code></a>. Repeatable.</p>
								</dd>
								<dt>Attributes</dt>
								<dd>
									<ul class="nomark">
										<li>
											<p><a href="#attrdef-dir"><code>dir</code></a>
												<code>[optional]</code> – only allowed on <code>contributor</code>,
													<code>coverage</code>, <code>creator</code>,
													<code>description</code>, <code>publisher</code>,
													<code>relation</code>, <code>rights</code> and
												<code>subject</code>.</p>
										</li>
										<li>
											<p><a href="#attrdef-id"><code>id</code></a>
												<code>[optional]</code> – allowed on any element.</p>
										</li>
										<li>
											<p><a href="#attrdef-xml-lang"><code>xml:lang</code></a>
												<code>[optional]</code> – only allowed on <code>contributor</code>,
													<code>coverage</code>, <code>creator</code>,
													<code>description</code>, <code>publisher</code>,
													<code>relation</code>, <code>rights</code> and
												<code>subject</code>.</p>
										</li>
									</ul>
								</dd>
								<dt>Content Model</dt>
								<dd>
									<p>Text</p>
								</dd>
							</dl>

							<p>The OPTIONAL [[!DC11]] metadata for each <a>Rendition</a> MAY differ.</p>

							<p>Reading Systems MUST trim all leading and trailing <a
									href="https://www.w3.org/TR/xml/#white">white space</a> [[!XML]] before processing
								the value.</p>

							<p> The value of all OPTIONAL [[!DC11]] elements MUST be at least one character in length
								after white space has been trimmed.</p>

							<p>This specification does not modify the [[!DC11]] element definitions except as noted in
								the following sections.</p>

						</section>

						<section id="sec-opf-dccontributor">
							<h5>The <code>contributor</code> Element</h5>

							<p>The [[!DC11]] <code>contributor</code> element is used to represent the name of a person,
								organization, etc. that played a secondary role in the creation of the content of an
								EPUB Publication.</p>

							<p>The requirements for the <code>contributor</code> element are identical to those for the
									<a href="#sec-opf-dccreator"><code>creator</code> element</a> in all other
								respects.</p>

						</section>

						<section id="sec-opf-dccreator">
							<h5>The <code>creator</code> Element</h5>

							<p>The [[!DC11]] <code>creator</code> element represents the name of a person, organization,
								etc. responsible for the creation of the content of the <a>Rendition</a>. The <a
									href="#role"><code>role</code> property</a> can be attached to the element to
								indicate the function the creator played in the creation of the content.</p>

							<aside class="example">
								<p>The following example shows how to represent a creator as an author using a <a
										href="http://id.loc.gov/vocabulary/relators.html">MARC relators</a> term.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/">
    …
    &lt;dc:creator id="creator">Haruki Murakami&lt;/dc:creator>
    &lt;meta refines="#creator" property="role" scheme="marc:relators" id="role">aut&lt;/meta>
    …
&lt;/metadata></pre>
							</aside>

							<p>The <code>creator</code> element SHOULD contain the name of the creator as the Author
								intends it to be displayed to a user. The <a href="#file-as"><code>file-as</code>
									property</a> MAY be attached to include a normalized form of the name, and the <a
									href="#alternate-script"><code>alternate-script</code> property</a> to represent a
								creator's name in another language or script.</p>

							<aside class="example">
								<p>The following example shows how a creator name can be included to facilitate sorting
									and rendering.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/">
    …
    &lt;dc:creator id="creator">Haruki Murakami&lt;/dc:creator>
    &lt;meta refines="#creator" property="role" scheme="marc:relators" id="role">aut&lt;/meta>
    &lt;meta refines="#creator" property="alternate-script" xml:lang="ja">村上 春樹&lt;/meta>
    &lt;meta refines="#creator" property="file-as">Murakami, Haruki&lt;/meta>
    …
&lt;/metadata></pre>
							</aside>

							<p>If an EPUB Publication has more than one creator, each SHOULD be included in a separate
									<code>creator</code> element.</p>

							<p>When determining display priority, Reading Systems MUST use the document order of
									<code>creator</code> elements in the <code>metadata</code> section, where the first
									<code>creator</code> element encountered is the primary creator. If a Reading System
								exposes creator metadata to the user, it SHOULD include all the creators listed in the
									<code>metadata</code> section whenever possible (e.g., when not constrained by
								display considerations).</p>

							<aside class="example">
								<p>In the following example, Lewis Carroll is the primary creator as he is listed
									first.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    …
    &lt;dc:creator id="creator01"&gt;Lewis Carroll&lt;/dc:creator&gt;
    &lt;dc:creator id="creator02"&gt;John Tenniel&lt;/dc:creator&gt;
    …
&lt;/metadata&gt;
</pre>
							</aside>

							<p>Secondary contributors SHOULD be represented using the <a href="#sec-opf-dccontributor"
										><code>contributor</code> element</a>.</p>

						</section>

						<section id="sec-opf-dcdate">
							<h5>The <code>date</code> Element</h5>

							<p>The [[!DC11]] <code>date</code> element MUST only be used to define the publication date
								of the <a>EPUB Publication</a>. The publication date is not the same as the <a
									href="#last-modified-date">last modified date</a> (the last time the
									<a>Rendition</a> was changed).</p>

							<p>It is RECOMMENDED that the date string conform to [[!ISO8601]], particularly the subset
								expressed in W3C Date and Time Formats [[!DateTime]], as such strings are both human and
								machine readable.</p>

							<aside class="example">
								<p>The following example shows a publication date.</p>
								<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    …
    &lt;dc:date&gt;2000-01-01T00:00:00Z&lt;/dc:date&gt;
    …
&lt;/metadata&gt;
</pre>
							</aside>

							<p>Additional dates SHOULD be expressed using the specialized date properties available in
								the [[!DCTERMS]] vocabulary, or similar.</p>

							<p>The publication date MAY be common to all instances of an EPUB Publication or MAY change
								from instance to instance (e.g., if the EPUB Publication gets generated on demand).</p>

							<p>Only one <code>date</code> element is allowed.</p>

						</section>

						<section id="sec-opf-dcsubject">
							<h5>The <code>subject</code> Element</h5>

							<p>The [[!DC11]] <code>subject</code> element identifies the subject of the EPUB
								Publication. The value of the element SHOULD be the human-readable heading or label, but
								MAY be the code value if the subject taxonomy does not provide a separate descriptive
								label.</p>

							<p>Authors MAY identify the system or scheme the element's value is drawn from using the <a
									href="#authority"><code>authority</code> property</a>.</p>

							<p>When a scheme is identified, a subject code MUST be attached using the <a href="#term"
										><code>term</code> property</a>.</p>

							<aside class="example">
								<p>The following example shows a BISAC code and heading.</p>
								<pre>&lt;dc:subject id="subject01"&gt;FICTION / Occult &amp;amp; Supernatural&lt;/dc:subject&gt;
&lt;meta refines="#subject01" property="authority">BISAC&lt;/meta>
&lt;meta refines="#subject01" property="term">FIC024000&lt;/meta></pre>
							</aside>

							<aside class="example">
								<p>The following example shows the use of an IRI for the scheme.</p>
								<pre>&lt;dc:subject id="sbj01"&gt;Number Theory&lt;/dc:subject&gt;
&lt;meta refines="#sbj01" property="authority">http://www.ams.org/msc/msc2010.html&lt;/meta>
&lt;meta refines="#sbj01" property="term">11&lt;/meta></pre>
							</aside>

							<p>The <code>term</code> property MUST NOT be attached to a <code>subject</code> element
								that does not specify a scheme.</p>

							<p>The values of the <code>subject</code> element and <code>term</code> property are case
								sensitive only when the designated scheme requires.</p>
						</section>

						<section id="sec-opf-dctype">
							<h5>The <code>type</code> Element</h5>

							<p>The [[!DC11]] <code>type</code> element is used to indicate that the given EPUB
								Publication is of a specialized type (e.g., annotations or a dictionary packaged in EPUB
								format).</p>

							<p>An informative registry of specialized EPUB Publication types for use with this element
								is maintained in the [[TypesRegistry]], but Authors MAY use any text string as a
								value.</p>
						</section>

					</section>

					<section id="sec-meta-elem">
						<h4>The <code>meta</code> Element</h4>

						<p>The <code>meta</code> element provides a generic means of including package metadata.</p>

						<dl id="elemdef-meta" class="elemdef">
							<dt>Element Name</dt>
							<dd>
								<p>
									<code>meta</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>As child of the <a class="codelink" href="#elemdef-opf-metadata"
											><code>metadata</code></a> element. Repeatable.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<ul class="nomark">
									<li>
										<p>
											<a href="#attrdef-dir"><code>dir</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-id"><code>id</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-meta-property"><code>property</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-refines"><code>refines</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-scheme"><code>scheme</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-xml-lang"><code>xml:lang</code></a>
											<code>[optional]</code></p>
									</li>
								</ul>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p>Text</p>
							</dd>
						</dl>

						<p id="attrdef-meta-property">Each <code>meta</code> element defines a metadata expression. The
								<code>property</code> attribute takes a <a href="#sec-property-datatype">property</a>
							data type value that defines the statement being made in the expression, and the text
							content of the element represents the assertion. (Refer to <a href="#sec-metadata-assoc"
								>Vocabulary Association Mechanisms</a> for more information.)</p>

						<p>This specification defines two types of metadata expressions that can be defined using the
								<code>meta</code> element:</p>

						<ul>
							<li id="primary-expression">A <em>primary expression</em> is one in which the expression
								defined in the <code>meta</code> element establishes some aspect of the <a>EPUB
									Publication</a>. A <code>meta</code> element that omits a refines attribute defines
								a primary expression.</li>

							<li id="subexpression">A <em>subexpression</em> is one in which the expression defined in
								the <code>meta</code> element enhances the meaning of the expression or resource
								referenced in its <code>refines</code> attribute. A subexpression might refine a media
								clip, for example, by expressing its duration, or refine a creator or contributor
								expression by defining the role of the person.</li>
						</ul>

						<p>Subexpressions are not limited to refining only primary expressions and resources; they may
							be used to refine the meaning of other subexpressions, thereby creating chains of
							information.</p>

						<p class="note">All of the DCMES [[!DC11]] elements represent primary expressions, and permit
							refinement by meta element subexpressions.</p>

						<p>This specification <a href="#sec-metadata-default-vocab">reserves</a> the <a
								href="#app-meta-property-vocab">Meta Properties Vocabulary</a> for use with the
								<code>property</code> attribute. Terms from other vocabularies MAY be used provided they
							have a <a href="#sec-prefix-attr">prefix</a> (refer to <a
								href="#sec-metadata-reserved-prefixes">Reserved Prefixes</a> for a list of prefixes that
							do not have to be declared).</p>

						<aside class="example">
							<p>The following example shows various property declarations using reserved prefixes.</p>
							<pre>&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    …
    &lt;meta property="dcterms:modified"&gt;2016-02-29T12:34:56Z&lt;/meta&gt;
    &lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
    &lt;meta property="media:active-class"&gt;-epub-media-overlay-active&lt;/meta&gt;
    …
&lt;/metadata&gt;
</pre>
						</aside>

						<p id="attrdef-scheme">The <code>scheme</code> attribute identifies the system or scheme that
							the element's value is drawn from. The value of the attribute MUST be a <a
								href="#sec-property-datatype">property</a> data type that resolves to the resource that
							defines the scheme. If a Reading System does not recognize the <code>scheme</code> attribute
							value, it SHOULD treat the value of the element as a string.</p>

						<p>Reading Systems SHOULD ignore all <code>meta</code> elements whose <code>property</code>
							attributes define expressions they do not recognize. A Reading System MUST NOT fail when
							encountering unknown expressions.</p>

						<p>Unless an individual property explicitly defines a different white space normalization
							algorithm, Reading Systems MUST trim all leading and trailing <a
								href="https://www.w3.org/TR/xml/#white">white space</a> [[!XML]] from the
								<code>meta</code> element values before further processing them.</p>

						<p>Every <code>meta</code> element MUST express a value that is at least one character in length
							after white space normalization.</p>

					</section>

					<section id="sec-link-elem">
						<h4>The <code>link</code> Element</h4>

						<p>The <code>link</code> element is used to associate resources with the given <a>Rendition</a>,
							such as metadata records.</p>

						<dl id="elemdef-opf-link" class="elemdef">
							<dt>Element Name</dt>
							<dd>
								<p>
									<code>link</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>As a child of <a class="codelink" href="#elemdef-opf-metadata"
										><code>metadata</code></a>. Repeatable.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<ul class="nomark">
									<li>
										<p>
											<a href="#attrdef-href"><code>href</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-id"><code>id</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-link-media-type"><code>media-type</code></a>
											<code>[conditionally required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-properties"><code>properties</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-refines"><code>refines</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-link-rel"><code>rel</code></a>
											<code>[required]</code></p>
									</li>
								</ul>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p>Empty</p>
							</dd>
						</dl>

						<p>The <a href="#sec-metadata-elem"><code>metadata</code> element</a> MAY contain zero or more
								<code>link</code> elements, each of which identifies the location of a linked resource
							in its REQUIRED <code>href</code> attribute</p>

						<p id="linked-res-manifest">Linked resources are not <a>Publication Resources</a> and MUST NOT
							be listed in the <a href="#sec-manifest-elem">manifest</a>. A linked resource MAY be
							embedded in a Publication Resource that is listed in the manifest, however, in which case it
							MUST be a <a href="epub-spec.html#sec-core-media-types">Core Media Type Resource</a>
							[[!EPUB32]] (e.g., an <a>EPUB Content Document</a> could contain a metadata record
							serialized as [[RDFA-CORE]] or [[JSON-LD]]).</p>

						<aside class="example">
							<p>The following example shows a reference to a metadata record embedded in a
									<code>script</code> element inside an <a>XHTML Content Document</a>. Note that the
								media type of the embedded record is obtained from <code>type</code> attribute on the
									<code>script</code> element; it is not specified in the <code>link</code>
								element.</p>
							<pre>&lt;metadata&gt;
    … 
    &lt;link rel="record"
          href="front.xhtml#meta-json"
          media-type="application/xhtml+xml"/&gt;
    …
&lt;/metadata&gt;</pre>
						</aside>

						<p id="linked-res-location">Linked resources MAY be located <a data-lt="Local Resource"
								>locally</a> or <a data-lt="Remote Resource">remotely</a>, but Authors need to be aware
							that retrieval of Remote Resources by <a>Reading Systems</a> is OPTIONAL (i.e., the resource
							might not be available).</p>

						<p id="attrdef-link-media-type">The <a href="#attrdef-media-type"><code>media-type</code></a>
							attribute is OPTIONAL when a linked resource is located outside the EPUB Container, as more
							than one media type could be served from the same IRI. The attribute is REQUIRED for all
								<a>Local Resources</a>.</p>

						<p id="attrdef-link-rel">The REQUIRED <code>rel</code> attribute takes a space-separated list of
								<a href="#sec-property-datatype">property</a> values that establish the relationship the
							resource has with the Rendition.</p>

						<aside class="example">
							<p>The following example shows the <code>link</code> element used to associate a local MARC
								XML record.</p>
							<pre>&lt;link rel="record"
      href="meta/9780000000001.xml" 
      media-type="application/marc"/&gt;</pre>
						</aside>

						<p>Reading System do not have to use or present linked resources, even if they recognize the
							relationship defined in the <code>rel</code> attribute.</p>

						<p>The value of the <code>media-type</code> attribute is not always sufficient to identify the
							type of linked resource (e.g., many XML-based record formats use the media type
								"<code>application/xml</code>"). To aid Reading Systems in the identification of such
							generic resources, the <code>properties</code> attribute can be attached with a semantic
							identifier.</p>

						<aside class="example">
							<p>The following example shows the <code>properties</code> attribute used to identify a
								remote XMP record.</p>
							<pre>&lt;link rel="record"
      href="http://example.org/meta/12389347?format=xmp"
      media-type="application/xml"
      properties="xmp"/&gt;</pre>
						</aside>

						<p>The list of <a href="#sec-metadata-default-vocab">reserved</a> relationships and properties
							recognized by this specification is defined in the <a href="#app-link-vocab">EPUB Metadata
								Link Vocabulary</a>.</p>

						<p><a>Authors</a> MAY add relationships and properties from other vocabularies via the <a
								href="#attrdef-package-prefix">metadata extensibility mechanism</a> defined in this
							specification. Authors also MAY create new values by defining their own <a
								href="#sec-prefix-attr">prefixes</a>. Refer to <a href="#sec-metadata-assoc">Vocabulary
								Association Mechanisms</a> for more information.</p>

						<aside class="example">
							<p>The following example shows the <code>link</code> element used to associate an
								informational web page. Note that as <code>foaf</code> is not a <a
									href="#sec-metadata-reserved-prefixes">predefined prefix</a>, it MUST be declared in
								the <a href="#attrdef-package-prefix">prefix attribute</a>.</p>
							<pre>&lt;package … prefix="foaf: http://xmlns.com/foaf/spec/"&gt;
    &lt;metadata&gt;
        … 
        &lt;link rel="foaf:homepage"
              href="http://example.org/book-info/12389347" /&gt;
        …
    &lt;/metadata&gt; 
    …
&lt;/package&gt;
</pre>
						</aside>

						<p id="sec-linked-records">In the case of a <a href="#record">linked metadata record</a>,
							Reading Systems MUST NOT skip processing the metadata expressed in the Package Document and
							only use the information expressed in the record. Linked records are intended to enhance the
							information available to Reading Systems, and the package metadata typically contains
							important rendering information. Reading Systems MAY compile metadata from multiple linked
							records; they do not have to select only one record.</p>

						<p>When it comes to resolving discrepancies and conflicts between metadata expressed in the
							Package Document and in linked metadata records, Reading Systems MUST use the document order
							of <code>link</code> elements in the Package Document to establish precedence (i.e.,
							metadata in the first linked record encountered has the highest precedence and metadata in
							the Package Document the lowest, regardless of whether the <code>link</code> elements occur
							before, within or after the package metadata elements).</p>

						<aside class="example">
							<p>The following example shows a remote record that has higher precedence than a local
								record, which in turn has higher precedence than the metadata found in the
									<code>metadata</code> element.</p>
							<pre>&lt;metadata&gt;
    … 
    &lt;link rel="record"
          href="http://example.org/onix/12389347"
          media-type="application/xml"
          properties="onix" /&gt;
    
    &lt;link rel="record"
          href="meta/meta.jsonld"
          media-type="application/ld+json" /&gt;
    …
&lt;/metadata&gt;</pre>
						</aside>

						<p>Reading Systems MUST ignore any instructions contained in linked resources related to the
							layout and rendering of the EPUB Publication.</p>

						<div class="note">
							<p>Due to the variety of metadata record formats and serializations that can be linked to an
								EPUB Publication, and the complexity of comparing metadata properties between them, this
								specification does not require Reading Systems to process linked records.</p>
						</div>

					</section>
				</section>

				<section id="sec-pkg-manifest">
					<h3>Manifest</h3>

					<section id="sec-manifest-elem">
						<h4>The <code>manifest</code> Element</h4>

						<p>The <code>manifest</code> element provides an exhaustive list of the <a>Publication
								Resources</a> that constitute the given <a>Rendition</a>, each represented by an <a
								class="codelink" href="#sec-item-elem"><code>item</code></a> element.</p>

						<dl id="elemdef-opf-manifest" class="elemdef">
							<dt>Element name</dt>
							<dd>
								<p><code>manifest</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>REQUIRED second child of <a class="codelink" href="#elemdef-opf-package"
											><code>package</code></a>, following <a class="codelink"
										href="#elemdef-opf-metadata"><code>metadata</code></a>.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<p>
									<a href="#attrdef-id"><code>id</code></a>
									<code>[optional]</code></p>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p><a class="codelink" href="#elemdef-package-item"><code>item</code></a>
									<code>[1 or more]</code></p>
							</dd>
						</dl>

						<div class="note">
							<p>This specification supports internationalized resource naming, so elements and attributes
								that reference Publication Resources accept IRIs as their value. For compatibility with
								older Reading Systems that only accept URIs, resource names need to be restricted to the
								ASCII character set.</p>
						</div>

					</section>

					<section id="sec-item-elem">
						<h4>The <code>item</code> Element</h4>

						<p>The <code>item</code> element represents a <a>Publication Resource</a>.</p>

						<dl id="elemdef-package-item" class="elemdef">
							<dt>Element Name</dt>
							<dd>
								<p><code>item</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>As a child of <a class="codelink" href="#elemdef-opf-manifest"
										><code>manifest</code></a>. Repeatable.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<ul class="nomark">
									<li>
										<p>
											<a href="#attrdef-item-fallback"><code>fallback</code></a>
											<code>[conditionally required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-href"><code>href</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-id"><code>id</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-item-media-overlay"><code>media-overlay</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-item-media-type"><code>media-type</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-properties"><code>properties</code></a>
											<code>[optional]</code></p>
									</li>
								</ul>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p>Empty</p>
							</dd>
						</dl>

						<p>Each <code>item</code> element in the <code>manifest</code> identifies a <a>Publication
								Resource</a> by the IRI [[!RFC3987]] provided in its <code>href</code> attribute. The
							IRI MAY be absolute or relative. In the case of relative IRIs, Reading Systems MUST use the
							IRI of the Package Document as the base when resolving these to absolute IRIs. The resulting
							absolute IRI MUST be unique within the <code>manifest</code> scope.</p>

						<p id="manifest-inclusion">All Publication Resources MUST be referenced from the
								<code>manifest</code>, regardless of whether they are <a data-lt="Local Resource"
								>Local</a> or <a>Remote Resources</a>. Refer to <a
								href="epub-spec.html#sec-resource-locations">Publication Resource Locations</a>
							[[!EPUB32]] for media type-specific requirements regarding resource locations.</p>

						<p>Note that the <code>manifest</code> is not self-referencing: it MUST NOT include an
								<code>item</code> element that refers to the Package Document itself.</p>

						<p id="attrdef-item-media-type">The Publication Resource identified by an <code>item</code>
							element MUST conform to the applicable specification(s) as inferred from the MIME media type
							provided in the <a href="#attrdef-media-type"><code>media-type</code></a> attribute. <a>Core
								Media Type Resources</a> MUST use the media type designated in <a
								href="epub-spec.html#sec-cmt-supported">Supported Media Types</a> [[!EPUB32]].</p>

						<p id="attrdef-item-fallback">The <code>fallback</code> attribute takes an IDREF [[!XML]] that
							identifies a fallback for the Publication Resource referenced from the <code>item</code>
							element. Fallbacks MAY be provided for <a>Core Media Type Resources</a> (e.g., to provide a
							static alternative to a <a>Scripted Content Document</a>). Fallback requirements for Foreign
							Resources are defined in <a href="#sec-foreign-restrictions-manifest">Manifest
							Fallbacks</a>.</p>

						<p id="attrdef-item-properties">This specification <a href="#sec-metadata-default-vocab"
								>reserves</a> the <a href="#app-item-properties-vocab">EPUB Manifest Properties
								Vocabulary</a> for use with the <code>properties</code> attribute. Terms from other
							vocabularies MAY be used provided they have a <a href="#sec-prefix-attr">prefix</a> (refer
							to <a href="#sec-metadata-reserved-prefixes">Reserved Prefixes</a> for a list of prefixes
							that do not have to be declared).</p>

						<p>Authors MUST declare all applicable descriptive metadata properties for each Publication
							Resource in this attribute, as Reading Systems MAY optimize the rendering depending on the
							properties that have been set (e.g., disable a rendering process or use a fallback). Reading
							Systems MUST ignore all descriptive metadata properties that they do not recognize.</p>

						<p>Exactly one <code>item</code> MUST be declared as the <a>EPUB Navigation Document</a> using
							the <code>nav</code> property.</p>

						<p id="attrdef-item-media-overlay">The <code>media-overlay</code> attribute takes an IDREF
							[[!XML]] that identifies the <a>Media Overlay Document</a> for the resource described by
							this <code>item</code>. Refer to <a href="epub-mediaoverlays.html#sec-docs-package"
								>Packaging</a> [[!MediaOverlays32]] for more information.</p>

						<div class="note">
							<p>The order of <code>item</code> elements in the <code>manifest</code> is not significant.
								The presentation sequence of content documents is provided in the <a class="codelink"
									href="#sec-spine-elem"><code>spine</code></a>.</p>
						</div>

						<h4>Examples</h4>

						<div class="example" id="example-manifest-cmt">

							<p>The following example shows a <code>manifest</code> that contains only <a>Core Media Type
									Resources</a>.</p>
							<pre>&lt;manifest&gt;
    &lt;item id="nav" 
          href="nav.xhtml" 
          properties="nav"
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="intro" 
          href="intro.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="c1" 
          href="chap1.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="c1-answerkey" 
          href="chap1-answerkey.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="c2" 
          href="chap2.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="c2-answerkey" 
          href="chap2-answerkey.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="c3" 
          href="chap3.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="c3-answerkey" 
          href="chap3-answerkey.xhtml" 
          media-type="application/xhtml+xml"/&gt;    
    &lt;item id="notes" 
          href="notes.xhtml" 
          media-type="application/xhtml+xml"/&gt;
    &lt;item id="cover" 
          href="./images/cover.svg" 
          properties="cover-image"
          media-type="image/svg+xml"/&gt;
    &lt;item id="f1" 
          href="./images/fig1.jpg" 
          media-type="image/jpeg"/&gt;
    &lt;item id="f2" 
          href="./images/fig2.jpg" 
          media-type="image/jpeg"/&gt;
    &lt;item id="css" 
          href="./style/book.css" 
          media-type="text/css"/&gt;   
    &lt;item id="pls" 
          href="./speech/dict.pls" 
          media-type="application/pls+xml"/&gt;
&lt;/manifest&gt;
</pre>
						</div>

						<aside class="example" id="example-manifest-flbk">
							<p>The following example shows a <code>manifest</code> that references two <a>Foreign
									Resources</a>, and therefore uses the <a href="#sec-foreign-restrictions-manifest"
									>fallback chain mechanism</a> to supply content alternatives. The fallback chain
								terminates with a <a>Core Media Type Resource</a>.</p>
							<pre>&lt;manifest&gt;
    &lt;item id="item1" 
          href="chap1_docbook.xml" 
          media-type="application/docbook+xml" 
          fallback="fall1"/&gt;
    &lt;item id="fall1" 
          href="chap1.xml" 
          media-type="application/z3998-auth+xml" 
          fallback="fall2" /&gt;
    &lt;item id="fall2" 
          href="chap1.xhtml" 
          media-type="application/xhtml+xml"/&gt; 
    … 
&lt;/manifest&gt;
</pre>
						</aside>

						<aside class="example">
							<p>The following example shows a reference to a remote audio file that has to be referenced
								from the manifest (the audio is rendered inline in the XHTML Content Document so it is a
								Publication Resource).</p>
							<pre>XHTML:
&lt;audio src="http://www.example.com/book/audio/ch01.mp4" controls="controls"/&gt;

Manifest:
&lt;item id="audio01"
      href="http://www.example.com/book/audio/ch01.mp4"
      media-type="audio/mp4"/&gt;</pre>
						</aside>

						<aside class="example">
							<p>The following example shows a link to the same audio file, but in this case the file is
								not listed in the manifest (hyperlinked Remote Resources are not Publication Resources).
								The audio file would only be listed in the manifest if the Author has also referenced it
								from an [[HTML]] embedded content element, as above (i.e., in a context where it is used
								as a Publication Resource).</p>
							<pre>XHTML:
&lt;a href="http://www.example.com/book/audio/ch01.mp4"&gt;Go to audio file&lt;/a&gt;

Manifest:
No Entry</pre>
						</aside>

						<aside class="example">
							<p>The following example shows a link to a local version of the audio file. Because audio
								files are not EPUB Content Documents, it requires a fallback to an EPUB Content Document
								(it also has to be listed in the <a href="#sec-spine-elem">spine</a>).</p>
							<pre>XHTML:
&lt;a href="audio/ch01.mp4"&gt;Open Audio File&lt;/a&gt;

Manifest:
&lt;item id="audio01"
      href="audio/ch01.mp4"
      media-type="audio/mp4"
      fallback="#audio01-xhtml"/&gt;</pre>
						</aside>

					</section>

					<section id="sec-foreign-restrictions-manifest">
						<h4>Manifest Fallbacks</h4>

						<p>Foreign Resources MAY be referenced in contexts in which an intrinsic fallback cannot be
							provided (e.g., directly from <a>spine</a>
							<a href="#elemdef-spine-itemref"><code>itemref</code></a> elements; from [[!HTML]]
								<code>img</code>, <code>iframe</code> and <code>link</code> elements in <a>XHTML Content
								Documents</a>; and from <code>@import</code> rules in CSS Style Sheets). Manifest
							fallbacks MUST be provided in such cases.</p>

						<p>Manifest fallbacks are provided using the <a href="#attrdef-item-fallback"
									><code>fallback</code></a> attribute on the <a>manifest</a>
							<a href="#elemdef-package-item"><code>item</code></a> element that represents the
							Publication Resource. The <code>fallback</code> attribute's IDREF [[!XML]] value MUST
							resolve to another <code>item</code> in the <code>manifest</code>. This fallback
								<code>item</code> MAY itself specify another fallback <code>item</code>, and so on.</p>

						<p>The ordered list of all the ID references that can be reached starting from a given item's
								<code>fallback</code> attribute represents the <em>fallback chain</em> for that item.
							The order of the resources in the fallback chain represents the Author's preferred fallback
							order.</p>

						<p>A Reading System that does not support the Media Type of a given Publication Resource MUST
							traverse the fallback chain until it has identified at least one supported Publication
							Resource to be used in place of the unsupported resource. If the Reading System supports
							multiple Publication Resources in the fallback chain, it MAY select the resource to use
							based on specific <a href="#attrdef-item-properties">properties</a> of that resource,
							otherwise it SHOULD honor the Author's preferred fallback order. If a Reading System does
							not support any resource in the fallback chain, it MUST alert the reader that content could
							not be displayed.</p>

						<p>Fallback chains MUST conform to one of the following requirements, as appropriate:</p>

						<ul>
							<li>
								<p>For Foreign Resources referenced directly from spine <a href="#elemdef-spine-itemref"
											><code>itemref</code></a> elements, the chain MUST contain at least one
										<a>EPUB Content Document</a>.</p>
							</li>
							<li>
								<p>For Foreign Resources for which an intrinsic fallback cannot be provided, the chain
									MUST contain at least one <a>Core Media Type Resource</a>.</p>
							</li>
						</ul>

						<p>Fallback chains MUST NOT contain any circular- or self-references to <code>item</code>
							elements in the chain. User agents MUST terminate the fallback chain at the first reference
							to a manifest item that has already been encountered.</p>

						<p>Fallbacks MAY also be provided for <a>Top-Level Content Documents</a> that are EPUB Content
							Documents; a Reading System MAY choose to utilize such fallbacks in order to find the
							optimal version of a Content Document to render in a given context. An example of when this
							feature can be utilized is when providing <a
								href="epub-contentdocs.html#confreq-cd-scripted-flbk">fallbacks for scripted content</a>
							[[!ContentDocs32]].</p>

					</section>

					<section id="sec-opf-bindings">
						<h4>The <code>bindings</code> Element (Deprecated)</h4>

						<p>The <code>bindings</code> element defines a set of custom handlers for media types not
							supported by this specification. Its use is <a href="epub-spec.html#deprecated"
								>deprecated</a>.</p>

						<p>Refer to [[!Publications301]] for more information about this element.</p>
					</section>
				</section>

				<section id="sec-pkg-spine">
					<h3>Spine</h3>

					<section id="sec-spine-elem">
						<h4>The <code>spine</code> Element</h4>

						<p>The <code>spine</code> element defines an ordered list of <a href="#sec-itemref-elem"
								>manifest <code>item</code> references</a> that represent the default reading order of
							the given <a>Rendition</a>.</p>

						<dl id="elemdef-opf-spine" class="elemdef">
							<dt>Element name</dt>
							<dd>
								<p><code>spine</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>REQUIRED third child of <a class="codelink" href="#elemdef-opf-package"
											><code>package</code></a>, following <a class="codelink"
										href="#elemdef-opf-manifest"><code>manifest</code></a>.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<ul class="nomark">
									<li>
										<p>
											<a href="#attrdef-id"><code>id</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-spine-page-progression-direction"
													><code>page-progression-direction</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#sec-opf2-ncx"><code>toc</code></a>
											<code>[optional]</code>
											<a href="epub-spec.html#legacy" class="legacy">(legacy)</a></p>
									</li>
								</ul>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p><a class="codelink" href="#elemdef-spine-itemref"><code>itemref</code></a>
									<code>[1 or more]</code></p>
							</dd>
						</dl>

						<p>Reading Systems MUST provide a means of rendering the Rendition in the order defined in the
								<code>spine</code>, which includes: 1) recognizing the first primary
								<code>itemref</code> as the beginning of the default reading order; and, 2) rendering
							successive primary items in the order given in the <code>spine</code>.</p>

						<p id="spine-inclusion-req">All <a>Publication Resources</a> that are hyperlinked to from
							Publication Resources in the <code>spine</code> MUST themselves be listed in the
								<code>spine</code>, where hyperlinking is defined to be any linking mechanism that
							requires the user to navigate away from the current resource. Common hyperlinking mechanisms
							include the <code>href</code> attribute of the [[!HTML]] <a
								href="https://www.w3.org/TR/html/textlevel-semantics.html#the-a-element"
								><code>a</code></a> and <a
								href="https://www.w3.org/TR/html/semantics-embedded-content.html#the-area-element"
									><code>area</code></a> elements and scripted links (e.g., using DOM Events and/or
							form elements). The requirement to list hyperlinked resources applies recursively (i.e., all
							Publication Resources hyperlinked from hyperlinked Publication Resources also have to be
							listed, and so on.).</p>

						<p>All Publication Resources hyperlinked to from the <a>EPUB Navigation Document</a> also MUST
							be listed in the <code>spine</code>, regardless of whether the Navigation Document is itself
							listed in the <code>spine</code>.</p>

						<div class="note">
							<p>As <a>Remote Resources</a> referenced from hyperlinks are not Publication Resources, they
								are not subject to the requirement to include in the spine (e.g., Web pages and
								resources).</p>
						</div>

						<p>Embedded Publication Resources (e.g., via the [[!HTML]] <a
								href="https://www.w3.org/TR/html/semantics-embedded-content.html#the-iframe-element"
									><code>iframe</code></a> element) do not have to be listed in the
							<code>spine</code>.</p>

						<p id="attrdef-spine-page-progression-direction">The <code>page-progression-direction</code>
							attribute sets the global direction in which the content flows. Allowed values are
								<code>ltr</code> (left-to-right), <code>rtl</code> (right-to-left) and
								<code>default</code>. When the <code>default</code> value is specified, the Author is
							expressing no preference and the Reading System can choose the rendering direction. The
								<code>default</code> value MUST be assumed when the attribute is not specified. In this
							case, the reading system SHOULD choose a default <code>page-progression-direction</code>
							value based on the first <code>language</code> element. </p>

						<p>Although the <code>page-progression-direction</code> attribute sets the global flow
							direction, individual Content Documents and parts of Content Documents MAY override this
							setting (e.g., via the <code>writing-mode</code> CSS property). Reading Systems MAY also
							provide mechanisms to override the default direction (e.g., buttons or settings that allow
							the application of alternate style sheets).</p>

						<p>Reading Systems MUST ignore the page progression direction defined in <a href="#layout"
									><code>pre-paginated</code></a> XHTML Content Documents. The
								<code>page-progression-direction</code> attribute defines the flow direction from one
							fixed-layout page to the next.</p>

						<p>The <a href="epub-spec.html#legacy">legacy</a>
							<code>toc</code> attribute takes an IDREF [[!XML]] that identifies the manifest item that
							represents the <a href="#sec-opf2-ncx">NCX</a>.</p>
					</section>

					<section id="sec-itemref-elem">
						<h4>The <code>itemref</code> Element</h4>

						<p>The child <code>itemref</code> elements of the <code>spine</code> represent a sequential list
							of <a>Publication Resources</a> (<a href="#confreq-spine-itemtypes">typically</a>
							<a>EPUB Content Documents</a>). The order of the <code>itemref</code> elements defines the
							default reading order of the given <a>Rendition</a>.</p>

						<dl id="elemdef-spine-itemref" class="elemdef">
							<dt>Element Name</dt>
							<dd>
								<p><code>itemref</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>As a child of <a class="codelink" href="#elemdef-opf-spine"><code>spine</code></a>.
									Repeatable.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<ul class="nomark">
									<li>
										<p>
											<a href="#attrdef-id"><code>id</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-itemref-idref"><code>idref</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-itemref-linear"><code>linear</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-properties"><code>properties</code></a>
											<code>[optional]</code></p>
									</li>
								</ul>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p>Empty</p>
							</dd>
						</dl>

						<p id="attrdef-itemref-idref">Each <code>itemref</code> element MUST reference the ID [[!XML]]
							of a unique <a href="#elemdef-package-item"><code>item</code></a> in the <a>manifest</a> via
							the IDREF [[!XML]] in its <code>idref</code> attribute (i.e., two or more
								<code>itemref</code> elements cannot reference the same <code>item</code>).</p>

						<p id="confreq-spine-itemtypes">Each referenced manifest <code>item</code> MUST be either a) an
								<a>EPUB Content Document</a> or b) another type of <a>Publication Resource</a> which,
								<em>regardless of whether it is a <a>Core Media Type Resource</a> or a <a>Foreign
									Resource</a></em>, MUST include an EPUB Content Document in its <a
								href="#sec-foreign-restrictions-manifest">fallback chain</a>.</p>

						<div class="note">
							<p>Although EPUB Publications <a href="#confreq-nav-occur">have to include</a> an <a>EPUB
									Navigation Document</a>, it is not mandatory to include it in the
								<code>spine</code>.</p>
						</div>

						<p id="attrdef-itemref-linear">The <code>linear</code> attribute indicates whether the
							referenced <code>item</code> contains content that contributes to the primary reading order
							and has to be read sequentially ("<code>yes</code>") or auxiliary content that enhances or
							augments the primary content and can be accessed out of sequence ("<code>no</code>").
							Examples of auxiliary content include: notes, descriptions and answer keys.</p>

						<p>The <code>linear</code> attribute allows Reading Systems to distinguish content that a user
							needs to access as part of the default reading order from supplementary content which might,
							for example, be presented in a popup window or omitted from an aural rendering.</p>

						<p>When rendering an EPUB Publication, a Reading System MAY either suppress non-linear content
							so that it does not appear in the default reading order, or ignore the <code>linear</code>
							attribute in order to provide users access to the entire content of the EPUB Publication.
							This specification does not mandate which model Reading Systems have to use. A Reading
							System MAY also provide the option for users to toggle between the two models.</p>

						<p>Each Rendition MUST include at least one <code>itemref</code> whose <code>linear</code>
							attribute value is either explicitly or implicitly set to "<code>yes</code>". An
								<code>itemref</code> that omits the <code>linear</code> attribute is assumed to have the
							value "<code>yes</code>".</p>

						<p>Authors MUST provide a means of accessing all non-linear content (e.g., hyperlinks in the
							content or from the <a href="#sec-package-nav">EPUB Navigation Document</a>).</p>

						<p id="attrdef-itemref-properties">This specification <a href="#sec-metadata-default-vocab"
								>reserves</a> the <a href="#app-itemref-properties-vocab">EPUB Spine Properties
								Vocabulary</a> for use with the <code>properties</code> attribute. Terms from any other
							vocabulary MAY be used provided they have a <a href="#sec-prefix-attr">prefix</a> (refer to
								<a href="#sec-metadata-reserved-prefixes">Reserved Prefixes</a> for a list of prefixes
							that do not have to be declared).</p>

						<p>All applicable descriptive metadata properties defined in the <a
								href="#app-itemref-properties-vocab">Spine Properties Vocabulary</a> SHOULD be
							declared.</p>

						<p>Reading Systems MUST ignore all metadata properties expressed in the <code>properties</code>
							attribute that they do not recognize.</p>

						<h4>Examples</h4>

						<aside class="example">
							<p>The following example shows a <code>spine</code> element corresponding to <a
									href="#example-manifest-cmt">the manifest example above</a>.</p>
							<pre>&lt;spine page-progression-direction="ltr"&gt;
    &lt;itemref idref="intro"/&gt;
    &lt;itemref idref="c1"/&gt;
    &lt;itemref idref="c1-answerkey" linear="no"/&gt;
    &lt;itemref idref="c2"/&gt;
    &lt;itemref idref="c2-answerkey" linear="no"/&gt;
    &lt;itemref idref="c3"/&gt;
    &lt;itemref idref="c3-answerkey" linear="no"/&gt;
    &lt;itemref idref="notes" linear="no"/&gt;
&lt;/spine&gt;
</pre>
						</aside>
					</section>
				</section>

				<section id="sec-pkg-collections">
					<h3>Collections</h3>

					<section id="sec-collection-elem">
						<h4>The <code>collection</code> Element</h4>

						<p>The <code>collection</code> element defines a related group of resources.</p>

						<dl id="elemdef-collection" class="elemdef">
							<dt>Element Name</dt>
							<dd>
								<p><code>collection</code></p>
							</dd>
							<dt>Usage</dt>
							<dd>
								<p>OPTIONAL sixth element of <code>package</code>. Repeatable.</p>
							</dd>
							<dt>Attributes</dt>
							<dd>
								<ul class="nomark">
									<li>
										<p>
											<a href="#attrdef-dir"><code>dir</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-id"><code>id</code></a>
											<code>[optional]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-collection-role"><code>role</code></a>
											<code>[required]</code></p>
									</li>
									<li>
										<p>
											<a href="#attrdef-xml-lang"><code>xml:lang</code></a>
											<code>[optional]</code></p>
									</li>
								</ul>
							</dd>
							<dt>Content Model</dt>
							<dd>
								<p>In this order: <a href="#elemdef-collection-metadata"><code>metadata</code></a>
									<code>[0 or 1]</code>, ( <a href="#elemdef-collection"><code>collection</code></a>
									<code>[1 or more]</code> or ( <a href="#elemdef-collection"
										><code>collection</code></a>
									<code>[0 or more]</code>, <a href="#elemdef-collection-link"><code>link</code></a>
									<code>[1 or more]</code> ))</p>
							</dd>
						</dl>

						<p>The <code>collection</code> element allows resources to be assembled into logical groups for
							a variety of potential uses: enabling content that has been split across multiple <a>EPUB
								Content Documents</a> to be reassembled back into a meaningful unit (e.g., an index
							split across multiple documents), identifying resources for specialized purposes (e.g.,
							preview content), or collecting together resources that present additional information about
							the given <a>Rendition</a>.</p>

						<p>The <code>collection</code> element, as defined in this section, represents a generic
							framework from which specializations are intended to be derived (e.g., through EPUB
							sub-specifications). Such specializations MUST define the purpose of the
								<code>collection</code> element within a Rendition, as well as all requirements for its
							valid production and use (specifically any requirements that differ from the general
							framework presented below).</p>

						<p id="attrdef-collection-role">Each specialization MUST define a role value that uniquely
							identifies all conformant <code>collection</code> elements. The role of each
								<code>collection</code> element in the Package Document MUST be identified in its
								<code>role</code> attribute, whose value MUST be one or more NMTOKENs [[!XMLSCHEMA-2]]
							and/or absolute IRIs [[!RFC3987]]. The use of NMTOKEN values is reserved for roles not
							defined in EPUB, which are maintained in the [[!RoleRegistry]]. NMTOKEN values not defined
							in the registry are not valid. No roles are defined in this section.</p>

						<p>Third parties MAY define custom roles for the <code>collection</code> element, but such roles
							MUST be identified using absolute IRIs. Custom roles MUST NOT incorporate the string
								"<code>idpf.org</code>" in the host component of their identifying IRI.</p>

						<div class="note">
							<p>To facilitate interoperability of custom roles across Reading Systems, implementers are
								strongly encouraged to document their use of the <code>collection</code> element in
								[[RoleExtensions]].</p>
						</div>

						<p id="elemdef-collection-metadata">The OPTIONAL <code>metadata</code> element child of
								<code>collection</code> is an adaptation of the package <a href="#elemdef-opf-metadata"
									><code>metadata</code></a> element, with the following differences in syntax and
							semantics:</p>

						<ul>
							<li>
								<p>No metadata is mandatory by default.</p>
							</li>
							<li>
								<p>Package-level restrictions on the use of metadata elements MAY be overridden.</p>
							</li>
							<li>
								<p>All <a href="#primary-expression">primary metadata expressions</a> apply to the
										<code>collection</code>.</p>
							</li>
							<li>
								<p>The <a href="#attrdef-refines"><code>refines</code> attribute</a> MUST NOT reference
									elements outside the containing <code>collection</code>.</p>
							</li>
							<li>
								<p>The <a href="#sec-opf2-meta">OPF2 <code>meta</code> element</a> MUST NOT be
									included.</p>
							</li>
						</ul>

						<p>A <code>collection</code> MAY define sub-collections through the inclusion of one or more
							child <code>collection</code> elements.</p>

						<p id="elemdef-collection-link">The <code>link</code> element child of <code>collection</code>
							is an adaptation of the metadata <a href="#elemdef-opf-link"><code>link</code></a> element,
							with the following differences in syntax and semantics:</p>

						<ul>
							<li>
								<p>The <code>rel</code> attribute is OPTIONAL.</p>
							</li>
							<li>
								<p>The <code>properties</code> attribute also accepts <a
										href="#app-item-properties-vocab">manifest <code>item</code> properties</a>
									without a prefix (e.g., so that a collection can declare its own Navigation Document
									or cover image).</p>
							</li>
							<li>
								<p>The <code>refines</code> attribute MUST NOT be attached.</p>
							</li>
						</ul>

						<p>Each <code>link</code> element MUST reference a resource that is a member of the group. The
							order of <code>link</code> elements is not significant.</p>

						<p>Specializations of the <code>collection</code> element MAY tailor the requirements defined
							above to better reflect their needs (e.g., requiring metadata, imposing further restrictions
							on the use of elements and attributes, or making the order of <code>link</code> elements
							significant). However, the resulting content model MUST represent a valid subset of the one
							defined in this section (e.g., specializations cannot introduce new elements or attributes,
							or re-introduce those expressly forbidden above). Specializations MUST NOT define
							collections in a way that overrides the requirements of the <a href="#elemdef-opf-manifest"
									><code>manifest</code></a> and <a href="#elemdef-opf-spine"
							><code>spine</code></a>.</p>

						<p>In the context of this specification, support for collections in Reading Systems is OPTIONAL.
							Reading Systems MUST ignore <code>collection</code> elements that define unrecognized
							roles.</p>

						<p>The rendering of a Rendition MUST NOT be dependent on the recognition of
								<code>collection</code> elements. The content MUST remain consumable by a user without
							any information loss or other significant deterioration.</p>

						<h4>Examples</h4>

						<aside class="example" id="example-collection">
							<p>The following example shows the assembly of two <a>XHTML Content Documents</a> that
								represent a single unit.</p>
							<pre>&lt;package …&gt;
    …
    &lt;collection role="http://example.org/roles/unit"&gt;
        &lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
            &lt;dc:title&gt;Foo Bar&lt;/dc:title&gt;
        &lt;/metadata&gt;
        &lt;link href="EPUB/xhtml/foo-1.xhtml"/&gt;
        &lt;link href="EPUB/xhtml/foo-2.xhtml"/&gt;
    &lt;/collection&gt;
    …
&lt;/package&gt;</pre>
						</aside>

					</section>

				</section>

				<section id="sec-pkg-legacy">
					<h3>Legacy</h3>

					<section id="sec-opf2-meta">
						<h4>The <code>meta</code> Element</h4>

						<p>The <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.2"
									><code>meta</code> element</a> [[!OPF2]] is a <a href="epub-spec.html#legacy"
								>legacy</a> feature that previously provided a means of including generic metadata. It
							is replaced in EPUB 3 by the updated <a href="#sec-meta-elem"><code>meta</code> element</a>,
							which uses different attributes and requires text content.</p>

						<p>For more information about the <code>meta</code> element, refer to its definition in
							[[!OPF2]].</p>
					</section>

					<section id="sec-opf2-guide">
						<h4>The <code>guide</code> Element</h4>

						<p>The <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.6"
									><code>guide</code> element</a> [[!OPF2]] is a <a href="epub-spec.html#legacy"
								>legacy</a> feature that previously provided machine-processable navigation to key
							structures in an <a>EPUB Publication</a>. It is replaced in EPUB 3 by <a
								href="#sec-nav-landmarks">landmarks</a> in the <a>EPUB Navigation Document</a>.</p>

						<p>For more information about the <code>guide</code> element, refer to its definition in
							[[!OPF2]].</p>
					</section>

					<section id="sec-opf2-ncx">
						<h4>NCX</h4>

						<p>The <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.4.1">NCX</a>
							[[!OPF2]] is a <a href="epub-spec.html#legacy">legacy</a> feature that previously provided
							the table of contents for <a>EPUB Publications</a>. It is replaced in EPUB 3 by the <a
								href="#sec-package-nav">EPUB Navigation Document</a>.</p>

						<p>For more information about the NCX, refer to its definition in [[!OPF2]].</p>
					</section>
				</section>
			</section>

		</section>
		<section id="sec-package-metadata">
			<h1>Package Metadata</h1>

			<section id="sec-package-metadata-identifiers">
				<h2>Publication Identifiers</h2>

				<section id="sec-metadata-elem-identifiers-uid">
					<h3>Unique Identifier</h3>

					<p>The <a>Author</a> is responsible for including a primary identifier in the <a>Package
							Document</a> metadata that is unique to one and only one <a>EPUB Publication</a>. This
							<a>Unique Identifier</a>, whether chosen or assigned, MUST be stored in the <a
							href="#sec-opf-dcidentifier"><code>dc:identifier</code></a> element and be referenced as the
						Unique Identifier in the <a href="#elemdef-opf-package"><code>package</code></a> element <a
							href="#attrdef-package-unique-identifier"><code>unique-identifier</code></a> attribute.</p>

					<p>Although not static, changes to the Unique Identifier for an EPUB Publication SHOULD be made as
						infrequently as possible. New identifiers SHOULD NOT be issued when updating metadata, fixing
						errata or making other minor changes to the EPUB Publication.</p>

					<p>Reading Systems MUST NOT depend on the Unique Identifier being unique to one and only one EPUB
						Publication. Determining whether two EPUB Publications with the same Unique Identifier represent
						different versions of the same publication (see <a href="#sec-metadata-elem-identifiers-pid"
							>Release Identifier</a>), or different publications, might require inspecting other
						metadata, such as the titles or authors.</p>

				</section>

				<section id="sec-metadata-elem-identifiers-pid">
					<h3>Release Identifier</h3>

					<p>The <a>Unique Identifier</a> of an <a>EPUB Publication</a> typically SHOULD NOT change with each
						minor revision to the package or its contents, as Unique Identifiers are intended to have
						maximal persistence both for referencing and distribution purposes. Each release of an EPUB
						Publication normally requires that the new version be uniquely identifiable, however, which
						results in the contradictory need for reliable Unique Identifiers that are changeable.</p>

					<p>To redress this problem of identifying minor modifications and releases without changing the
						Unique Identifier, this specification defines the semantics for a <em>Release Identifier</em>,
						or means of distinguishing and sequentially ordering EPUB Publications with the same Unique
						Identifier.</p>

					<p>The Release Identifier is not an actual property in the package <code>metadata</code> section,
						but is a value that can be obtained from two other mandatory pieces of metadata: the Unique
						Identifier and the last modification date of the Rendition. When the taken together, the
						combined value represents a unique identity that can be used to distinguish any particular
						version of an EPUB Publication from another.</p>

					<p id="last-modified-date">To ensure that a Release Identifier can be constructed, each
							<a>Rendition</a> MUST include exactly one [[!DCTERMS]] <code>modified</code> property
						containing its last modification date. The value of this property MUST be an [[!XMLSCHEMA-2]]
						dateTime conformant date of the form:</p>

					<pre class="nohighlight">CCYY-MM-DDThh:mm:ssZ</pre>

					<p>The last modification date MUST be expressed in Coordinated Universal Time (UTC) and MUST be
						terminated by the "<code>Z</code>" (Zulu) time zone indicator.</p>

					<p>Additional modified properties MAY be included in the package metadata, but they MUST have a
						different subject (i.e., they require a <code>refines</code> attribute that references an
						element or resource).</p>

					<p>Although not a part of the package metadata, for referencing and other purposes all string
						representations of the identifier MUST be constructed using the at sign (<code>@</code>) as the
						separator (i.e., of the form "id<code>@</code>date"). Whitespace MUST NOT be included when
						concatenating the strings.</p>

					<aside class="example">
						<p>The following example shows how a Unique Identifier and modification date are combined to
							form the Release Identifier.</p>
						<pre class="nohighlight">&lt;metadata xmlns:dc="http://purl.org/dc/elements/1.1/"&gt;
    &lt;dc:identifier id="pub-id"&gt;urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809&lt;/dc:identifier&gt;
    &lt;meta property="dcterms:modified"&gt;2011-01-01T12:00:00Z&lt;/meta&gt;
    …
&lt;/metadata&gt;

results in the Package ID:

urn:uuid:A1B0D67E-2E81-4DF5-9E67-A64CBE366809@2011-01-01T12:00:00Z
</pre>
					</aside>

					<p>Note that it is possible that the separator character MAY occur in the Unique Identifier, as
						these identifiers MAY be any string value. The Release Identifier consequently MUST be split on
						the last instance of the at sign when decomposing it into its component parts.</p>

					<p>The Release Identifier does not supersede the Unique Identifier, but represents the means by
						which different versions of the same EPUB Publication can be distinguished and identified in
						distribution channels and by Reading Systems. The sequential, chronological order inherent in
						the format of the timestamp also places EPUB Publications in order without requiring knowledge
						of the exact identifier that came before.</p>

					<p>The Release Identifier consequently allows a set of EPUB Publications to be inspected to
						determine if they represent the same version of the same Publication, different versions of a
						single EPUB Publication, or any combination of differing and similar EPUB Publications.</p>

					<div class="note">
						<p>When an <a>EPUB Container</a> includes more than one <a>Rendition</a> of an EPUB Publication,
							updating the last modified date of the <a href="epub-ocf.html#dfn-default-rendition">default
								rendition</a> for each release — even if it has not been updated — will help ensure that
							the EPUB Publication does not appear to be the same version as an earlier release, as
							Reading Systems only have to process the default rendition.</p>
					</div>
				</section>
			</section>

			<section id="sec-metadata-assoc">
				<h2>Vocabulary Association Mechanisms</h2>

				<section id="sec-metadata-assoc-intro" class="informative">
					<h3>Introduction</h3>

					<p>The <code>property</code>, <code>properties</code>, <code>rel</code> and <code>scheme</code>
						attributes use the <a href="#sec-property-datatype">property data type</a> to represent terms
						from metadata vocabularies. Similar to a CURIE [[RDFA-CORE]], the property data type represents
						an IRI [[RFC3987]] in compact form and simplifies the authoring of metadata from standardized
						vocabularies.</p>

					<p>A property value is an expression that consists of a prefix and a reference, where the prefix —
						whether literal or implied — is a shorthand mapping of an IRI that typically resolves to a term
						vocabulary. When the prefix is converted to its IRI representation and combined with the
						reference, the resulting IRI normally resolves to a fragment within that vocabulary that
						contains human- and/or machine-readable information about the term.</p>

					<p>To assist Reading Systems in processing property values, this specification defines three
						mechanisms to establish the IRI a prefix maps to:</p>

					<ul>
						<li>
							<p><a href="#sec-metadata-default-vocab">default vocabularies</a> — define the mapping when
								a property value does not include a prefix;</p>
						</li>
						<li>
							<p><a href="#sec-metadata-reserved-prefixes">reserved prefixes</a> — these mappings are
								predefined (i.e., all Reading Systems recognize them) and can be used without having to
								be declared; and</p>
						</li>
						<li>
							<p>the <a href="#sec-prefix-attr"><code>prefix</code></a> attribute — a declarative means of
								creating new prefix mappings on the root <a href="#sec-package-elem"
										><code>package</code></a> element.</p>
						</li>
					</ul>

				</section>

				<section id="sec-metadata-default-vocab">
					<h3>Default Vocabularies</h3>

					<p>A default vocabulary is a vocabulary that does not require a prefix to be declared in order to
						use its terms, and whose terms MUST always be unprefixed.</p>

					<p>As the Package Document has multiple unrelated uses for metadata terms, a single default
						vocabulary is not defined for all attributes. Instead, different default vocabularies are
						defined for use in attributes that accept a <a href="#sec-property-datatype">property data
							type</a> as follows:</p>

					<ul>
						<li>
							<p>The <a href="#app-meta-property-vocab">Meta Properties Vocabulary</a> is defined to be
								the default vocabulary for the <a href="#elemdef-meta"><code>meta</code></a>
								<code>property</code> attribute.</p>
							<p>If the attribute's value does not include a prefix, the following IRI [[!RFC3987]] stem
								MUST be used to generate the resulting IRI:
									<code>http://idpf.org/epub/vocab/package/meta/#</code></p>
						</li>
						<li>
							<p>The <a href="#app-link-vocab">Metadata Link Vocabulary</a> is defined to be the default
								vocabulary for the <a href="#elemdef-opf-link"><code>link</code></a>
								<code>rel</code> and <code>properties</code> attributes.</p>
							<p>If any of these attributes' values do not include a prefix, the following IRI
								[[!RFC3987]] stem MUST be used to generate the resulting IRI for them:
									<code>http://idpf.org/epub/vocab/package/link/#</code></p>
						</li>
						<li>
							<p>The <a href="#app-item-properties-vocab">Manifest Properties Vocabulary</a> is defined to
								be the default vocabulary for the <a href="#elemdef-package-item"><code>item</code></a>
								<code>properties</code> attribute.</p>
							<p>If any of the attribute's values do not include a prefix, the following IRI [[!RFC3987]]
								stem MUST be used to generate the resulting IRI for them:
									<code>http://idpf.org/epub/vocab/package/item/#</code></p>
						</li>
						<li>
							<p>The <a href="#app-itemref-properties-vocab">Spine Properties Vocabulary</a> is defined to
								be the default vocabulary for the <a href="#elemdef-spine-itemref"
									><code>itemref</code></a>
								<code>properties</code> attribute.</p>
							<p>If any of the attribute's values do not include a prefix, the following IRI [[!RFC3987]]
								stem MUST be used to generate the resulting IRI for them:
									<code>http://idpf.org/epub/vocab/package/itemref/#</code></p>
						</li>
					</ul>

					<p>The IRIs associated with these vocabularies MUST NOT be assigned a prefix using the <a
							href="#sec-prefix-attr"><code>prefix</code></a> attribute.</p>

				</section>

				<section id="sec-metadata-reserved-prefixes">
					<h3>Reserved Prefixes</h3>

					<p>This specification reserves the following set of prefixes that Authors MAY use in package
						metadata without having to declare.</p>

					<p class="warning">Although reserved prefixes are an authoring convenience, reliance on them can
						lead to interoperability issues. Validation tools will often reject new prefixes until the tools
						are updated, for example. Authors are strongly encouraged to declare all prefixes they use to
						avoid such issues.</p>

					<table id="tbl-reserved-prefixes" class="prefix">
						<thead>
							<tr>
								<th>Prefix</th>
								<th>IRI</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>a11y</td>
								<td>http://www.idpf.org/epub/vocab/package/a11y/#</td>
							</tr>
							<tr>
								<td>dcterms</td>
								<td>http://purl.org/dc/terms/</td>
							</tr>
							<tr>
								<td>marc</td>
								<td>http://id.loc.gov/vocabulary/</td>
							</tr>
							<tr>
								<td>media</td>
								<td>http://www.idpf.org/epub/vocab/overlays/#</td>
							</tr>
							<tr>
								<td>onix</td>
								<td>http://www.editeur.org/ONIX/book/codelists/current.html#</td>
							</tr>
							<tr>
								<td>rendition</td>
								<td>http://www.idpf.org/vocab/rendition/#</td>
							</tr>
							<tr>
								<td>schema</td>
								<td>http://schema.org/</td>
							</tr>
							<tr>
								<td>xsd</td>
								<td>http://www.w3.org/2001/XMLSchema#</td>
							</tr>
						</tbody>
					</table>


					<p>Reading Systems MUST resolve all reserved prefixes used in Package Documents using their
						predefined URIs unless a local <a href="#sec-prefix-attr">prefix</a> is declared. Reserved
						prefixes SHOULD NOT be overridden in the <a href="#sec-prefix-attr"><code>prefix</code>
							attribute</a>, but Reading Systems MUST use such local overrides when encountered.</p>

					<p>As changes to the reserved prefixes and updates to Reading Systems are not always going happen in
						synchrony, Reading Systems MUST NOT fail when encountering unrecognized prefixes (i.e., not
						reserved and not declared using the <code>prefix</code> attribute).</p>
				</section>

				<section id="sec-prefix-attr">
					<h3>The <code>prefix</code> Attribute</h3>

					<p>The <code>prefix</code> attribute defines additional prefix mappings not <a
							href="#sec-metadata-reserved-prefixes">reserved</a> by this specification.</p>

					<p>The value of the <code>prefix</code> attribute is a white space-separated list of one or more
						prefix-to-IRI mappings of the form:</p>

					<table class="productionset">
						<caption>(EBNF productions <a
								href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=26153"
								>ISO/IEC 14977</a>)<br />All terminal symbols are in the Unicode Block 'Basic Latin'
							(U+0000 to U+007F). </caption>
						<tr>
							<td id="prefix.ebnf.def"><a href="#prefix.ebnf.def">prefixes</a></td>
							<td><code>=</code></td>
							<td><a href="#prefix.ebnf.mapping">mapping</a> , { <a href="#prefix.ebnf.whitespace"
									>whitespace</a>, { <a href="#prefix.ebnf.space">whitespace</a> } , <a
									href="#prefix.ebnf.mapping">mapping</a> } ; </td>
							<td> </td>
						</tr>
						<tr>
							<td id="prefix.ebnf.mapping"><a href="#prefix.ebnf.mapping">mapping</a></td>
							<td><code>=</code></td>
							<td><a href="#prefix.ebnf.prefix">prefix</a> , ":" , <a href="#prefix.ebnf.space">space</a>
								, { <a href="#prefix.ebnf.space">space</a> } , ? xsd:anyURI ? ; </td>
							<td> </td>
						</tr>
						<tr>
							<td id="prefix.ebnf.prefix"><a href="#prefix.ebnf.prefix">prefix</a></td>
							<td><code>=</code></td>
							<td>? xsd:NCName ? ;</td>
							<td> </td>
						</tr>
						<tr>
							<td id="prefix.ebnf.space"><a href="#prefix.ebnf.space">space</a></td>
							<td><code>=</code></td>
							<td>#x20 ;</td>
							<td> </td>
						</tr>
						<tr>
							<td id="prefix.ebnf.whitespace"><a href="#prefix.ebnf.whitespace">whitespace</a></td>
							<td><code>=</code></td>
							<td>(#x20 | #x9 | #xD | #xA) ;</td>
							<td> </td>
						</tr>
					</table>

					<aside class="example">
						<p>The following example shows prefixes for the Friend of a Friend (<code>foaf</code>) and
							DBPedia (<code>dbp</code>) vocabularies being declared using the <code>prefix</code>
							attribute.</p>
						<pre>&lt;package … 
	prefix="foaf: http://xmlns.com/foaf/spec/
		 dbp: http://dbpedia.org/ontology/"&gt;
	…
&lt;/package&gt;</pre>
					</aside>

					<p>To avoid conflicts, the <code>prefix</code> attribute MUST NOT be used to declare a prefix that
						maps to the <a href="#sec-metadata-default-vocab">default vocabulary</a>. If the
							<code>prefix</code> attribute includes a declaration for a <a
							href="#sec-metadata-reserved-prefixes">predefined prefix</a>, Reading Systems MUST use the
						URI mapping defined in the <code>prefix</code> attribute, regardless of whether of it maps to
						the same URI as the predefined prefix.</p>

					<p>The prefix '_' MUST NOT be declared as it is reserved for future compatibility with RDFa
						[[!RDFA-CORE]] processing.</p>

					<p>For future compatibility with alternative serializations of the Package Document, a prefix for
						the Dublin Core <em>/elements/1.1/</em> namespace [[!DCTERMS]] MUST NOT be declared in the
							<code>prefix</code> attribute. <a>Authors</a> MUST use only the [[!DC11]] elements <a
							href="#sec-pkg-metadata">allowed in the Package Document metadata</a>.</p>

				</section>

				<section id="sec-property-datatype">
					<h3>The <code>property</code> Data Type</h3>

					<section id="sec-property-syntax">
						<h4>Syntax</h4>

						<p>The property data type is a compact means of expressing an IRI [[!RFC3987]] and consists of
							an OPTIONAL prefix separated from a reference by a colon.</p>

						<table class="productionset">
							<caption>(EBNF productions <a
									href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=26153"
									>ISO/IEC 14977</a>)<br />All terminal symbols are in the Unicode Block 'Basic Latin'
								(U+0000 to U+007F). </caption>
							<tr>
								<td id="property.ebnf.property"><a href="#property.ebnf.property">property</a></td>
								<td><code>=</code></td>
								<td>[ <a href="#property.ebnf.prefix">prefix</a> , ":" ] , <a
										href="#property.ebnf.reference">reference</a>; </td>
								<td> </td>
							</tr>
							<tr>
								<td id="property.ebnf.prefix"><a href="#property.ebnf.prefix">prefix</a></td>
								<td><code>=</code></td>
								<td>? xsd:NCName ? ;</td>
								<td> </td>
							</tr>
							<tr>
								<td id="property.ebnf.reference"><a href="#property.ebnf.reference">reference</a></td>
								<td><code>=</code></td>
								<td>? irelative-ref ? ;</td>
								<td>/* as defined in [[!RFC3987]] */<br /></td>
							</tr>
						</table>

						<p>The property data type is derived from the CURIE data type defined in [[!RDFA-CORE]], and
							represents a subset of CURIEs.</p>

						<aside class="example">
							<p>The following example shows a property value composed of the prefix <code>dcterms</code>
								and the reference <code>modified</code>.</p>
							<pre>&lt;meta property="dcterms:modified"&gt;2011-01-01T12:00:00Z&lt;/meta&gt;</pre>
						</aside>

						<p>After <a href="#sec-property-processing">processing</a>, this property would expand to the
							following IRI:</p>

						<pre class="nohighlight">http://purl.org/dc/terms/modified</pre>

						<p>as the <code>dcterms:</code> prefix is a <a href="#sec-metadata-reserved-prefixes">reserved
								prefix</a> that maps to the IRI "<code>http://purl.org/dc/terms/</code>".</p>

						<p>When a prefix is omitted from a property value, the expressed reference represents a term
							from the <a href="#sec-metadata-default-vocab">default vocabulary</a> for that
							attribute.</p>

						<aside class="example">
							<p>The following example shows the <a href="#mathml"><code>mathml</code> property</a> on a
								manifest <a href="#elemdef-package-item"><code>item</code></a> element:</p>

							<pre>&lt;item … properties="mathml"/&gt;</pre>

							<p>This property expands to:</p>

							<pre>http://idpf.org/epub/vocab/package/item/#mathml</pre>

							<p>when the IRI for the vocabulary is concatenated with the reference.</p>
						</aside>

						<p>An empty string does not represent a valid property value, even though it is valid to the
							definition above.</p>

					</section>

					<section id="sec-property-processing">
						<h4>Processing</h4>

						<p>A Reading System MUST use the following rules to create an IRI [[!RFC3987]] from a
							property:</p>

						<ul>
							<li>
								<p>If the property consists only of a reference, the IRI is obtained by concatenating
									the IRI stem associated with the <a href="#sec-metadata-default-vocab">default
										vocabulary</a> to the reference.</p>
							</li>
							<li>
								<p>If the property consists of a prefix and reference, the IRI is obtained by
									concatenating the IRI stem associated with the prefix to the reference. If no
									matching prefix has been defined, the property is invalid and MUST be ignored.</p>
							</li>
						</ul>

						<p>The resulting IRI MUST be valid to [[!RFC3987]]. Reading Systems do not have to resolve this
							IRI, however.</p>

					</section>

				</section>

			</section>

			<section id="sec-package-metadata-rendering">
				<h2>Package Rendering Metadata</h2>

				<section id="sec-package-metadata-layout-general-intro" class="informative">
					<h3>Introduction</h3>

					<p>Not all rendering information can be expressed through the underlying technologies that EPUB is
						built upon. For example, although HTML with CSS provides powerful layout capabilities, those
						capabilities are limited to the scope of the document being rendered.</p>

					<p>This section defines general-purpose properties that allow Authors to express package-level
						rendering intentions (i.e., functionality that can only be implemented by the <a>EPUB Reading
							System</a>). If a Reading System supports the desired rendering, these properties enable the
						user to be presented the content as the Author optimally designed it.</p>

				</section>

				<section id="rendition-vocab-ref">
					<h4>Referencing</h4>

					<p>The base IRI for referencing these properties is
							<code>http://www.idpf.org/vocab/rendition/#</code>.</p>

					<p>The "<code>rendition:</code>" prefix is <a href="#sec-metadata-reserved-prefixes">reserved for
							use</a> with the package rendering properties and does not have to be declared in the
						Package Document.</p>
				</section>

				<section id="sec-package-metadata-general">
					<h3>General Properties</h3>

					<section id="flow">
						<h4>The <code>rendition:flow</code> Property</h4>

						<p>The <code>rendition:flow</code> property specifies the Author preference for how Reading
							Systems should handle content overflow. </p>

						<section id="layout-property-flow-usage">
							<h5>Usage</h5>

							<p id="property-flow-global">When the <a href="#flow"><code>rendition:flow</code>
									property</a> is specified on a <code>meta</code> element, it indicates the Author's
								global preference for overflow content handling (i.e., for all spine items). Authors MAY
								indicate a preference for dynamic pagination or scrolling. For scrolled content, it is
								also possible to specify whether consecutive <a>EPUB Content Documents</a> are to be
								rendered as a continuous scrolling view or whether each is to be rendered separately
								(i.e., with a dynamic page break between each).</p>

							<p>If a Reading System supports the specified rendering, it SHOULD use that method to handle
								overflow content, but MAY provide the option for users to override the requested
								rendering.</p>

							<p>The default value <code>auto</code> MUST be assumed by Reading Systems as the global
								value if no <code>meta</code> element carrying this property occurs in the <a
									href="#elemdef-opf-metadata"><code>metadata</code></a> section. Reading Systems MAY
								support only this default value.</p>

							<p>If a Reading Systems supports the <a href="#layout"><code>rendition:layout</code></a>
								property, it MUST ignore the <code>rendition:flow</code> property when it has been set
								on a spine item that also specifies the <a href="#layout"
									><code>rendition:layout</code></a> value <code>pre-paginated</code>.</p>

							<p id="html-body-page-break-before">Note that when two reflowable EPUB Content Documents
								occur sequentially in the spine, the default rendering for their [[!HTML]] <a
									href="https://www.w3.org/TR/html/sections.html#the-body-element"
									><code>body</code></a> elements is consistent with the <a
									href="https://www.w3.org/TR/CSS2/page.html#propdef-page-break-before"
										><code>page-break-before</code> property</a> [[!CSSSnapshot]] having been set to
									<code>always</code>. In addition to using the <code>rendition:flow</code> property,
								Authors MAY override this behavior through an appropriate style sheet declaration, if
								the Reading System supports such overrides.</p>

							<p>The <code>rendition:flow</code> property MUST NOT be declared more than once.</p>

						</section>

						<section id="layout-property-flow-values">
							<h5>Allowed Values</h5>

							<p>The following values are defined for use with the <code>rendition:flow</code>
								property:</p>

							<dl class="variablelist">
								<dt id="paginated">paginated</dt>
								<dd>
									<p>The Reading System SHOULD dynamically paginate all overflow content.</p>
								</dd>
								<dt id="scrolled-continuous">scrolled-continuous</dt>
								<dd>
									<p>The Reading System SHOULD render all Content Documents such that overflow content
										is scrollable, and the EPUB Publication represented by the given
											<a>Rendition</a> SHOULD be presented as one continuous scroll from spine
										item to spine item (except where <a href="#layout-property-flow-overrides"
											>locally overridden</a>).</p>
									<p>Note that Authors SHOULD NOT create publications in which different resources
										have different block flow directions, as continuous scrolled rendition in EPUB
										Reading Systems would be problematic.</p>
								</dd>
								<dt id="scrolled-doc">scrolled-doc</dt>
								<dd>
									<p>The Reading System SHOULD render all Content Documents such that overflow content
										is scrollable, and each spine item SHOULD be presented as a separate scrollable
										document.</p>
								</dd>
								<dt id="auto">auto</dt>
								<dd>
									<p>The Author does not have a preference for overflow handling. The Reading System
										MAY render overflow content using its default method or a user preference,
										whichever is applicable.</p>
								</dd>
							</dl>

						</section>

						<section id="layout-property-flow-overrides">
							<h5>Spine Overrides</h5>

							<p id="layout-property-flow-local">Authors MAY specify the following properties locally on
								spine <a href="#elemdef-spine-itemref"><code>itemref</code></a> elements to override the
									<a href="#property-flow-global">global value</a> for the given spine item:</p>

							<dl>
								<dt id="flow-auto">flow-auto</dt>
								<dd>Indicates no preference for overflow content handling by the Author. </dd>

								<dt id="flow-paginated">flow-paginated</dt>
								<dd>Indicates the Author preference is to dynamically paginate content overflow. </dd>

								<dt id="flow-scrolled-continuous">flow-scrolled-continuous</dt>
								<dd> Indicates the Author preference is to provide a scrolled view for overflow content,
									and that consecutive spine items with this property are to be rendered as a
									continuous scroll. </dd>

								<dt id="flow-scrolled-doc">flow-scrolled-doc</dt>
								<dd> Indicates the Author preference is to provide a scrolled view for overflow content,
									and each spine item with this property is to be rendered as a separate scrollable
									document. </dd>
							</dl>

							<p>Only one of these overrides is allowed on any given spine item.</p>

							<p>For the <code>rendition:flow-scrolled-continuous</code> property, the scroll direction is
								defined relative to the block flow direction of the root element of the XHTML Content
								Document referenced by the <a href="#elemdef-spine-itemref"><code>itemref</code>
									element</a>. The scroll direction is vertical if the block flow direction is
								downward (top-to-bottom). It is horizontal if the block flow direction of the root
								element is rightward (left-to-right) or leftward (right-to-left).</p>

						</section>

						<section id="layout-property-flow-examples">
							<h5>Examples</h5>

							<aside class="example" id="property-flow-ex1">
								<p>The following example demonstrates an Author's intent to have a paginated Rendition
									with a scrollable table of contents.</p>
								<pre>&lt;metadata&gt;
    &lt;meta property="rendition:flow"&gt;paginated&lt;/meta&gt;
&lt;/metadata&gt;

&lt;spine&gt;
    &lt;itemref idref="toc" properties="rendition:flow-scrolled-doc"/&gt;
    &lt;itemref idref="c01"/&gt;
&lt;/spine&gt;</pre>
							</aside>

						</section>

					</section>

					<section id="align-x-center">
						<h4>The <code>rendition:align-x-center</code> Property</h4>

						<p>The <code>rendition:align-x-center</code> property specifies that the given spine item should
							be centered horizontally in the viewport or spread. </p>

						<p>When the <a href="#align-x-center"><code>rendition:align-x-center</code> property</a> is set
							on a spine item, it indicates that the rendered content SHOULD be centered horizontally
							within the <a>Viewport</a> or spread, as applicable. This property does not affect the
							rendering of the spine item, only the placement of the resulting content box.</p>

						<p>For reflowable content, Reading Systems that support this property MUST center each virtual
							page.</p>

						<p>This version of this specification does not define a default rendering behavior when this
							property is not supported or specified. Reading Systems MAY render spine items by their own
							design.</p>

						<div class="note">
							<p>This property was developed primarily to handle "Naka-Tobira (中扉)" (sectional title
								pages), in the absence of reliable centering control within the content rendering. As
								support for paged media evolves in CSS, however, this property is expected to be
								deprecated. Authors are encouraged to use CSS solutions when effective.</p>
						</div>

					</section>
				</section>

				<section id="sec-package-metadata-fxl">
					<h3>Fixed-Layout Properties</h3>

					<section id="fxl-intro" class="informative">
						<h4>Introduction</h4>

						<p>EPUB documents, unlike print books or PDF files, are designed to change. The content flows,
							or reflows, to fit the screen and to fit the needs of the user. As noted in <a
								href="epub-overview.html#sec-rendering">Rendering and CSS</a> "content presentation
							adapts to the user, rather than the user having to adapt to a particular presentation of
							content." [[EPUB3Overview]]</p>

						<p>But this principle doesn’t work for all types of documents. Sometimes content and design are
							so intertwined they cannot be separated. Any change in appearance risks changing the
							meaning, or losing all meaning. <a>Fixed-Layout Documents</a> give <a>Authors</a> greater
							control over presentation when a reflowable EPUB is not suitable for the content.</p>

						<p>This section defines a set of metadata properties to allow declarative expression of intended
							rendering behaviors of Fixed-Layout Documents in the context of EPUB 3.</p>

						<div class="note" id="note-mechanisms">
							<p>EPUB 3 affords multiple mechanisms for representing fixed-layout content. When
								fixed-layout content is necessary, the Author's choice of mechanism will depend on many
								factors including desired degree of precision, file size, accessibility, etc. This
								section does not attempt to dictate the Author's choice of mechanism.</p>
						</div>

					</section>

					<section id="layout">
						<h4>The <code>rendition:layout</code> Property</h4>

						<p>The <code>rendition:layout</code> property specifies whether the given Rendition is
							reflowable or pre-paginated.</p>

						<section id="layout-usage">
							<h5>Usage</h5>

							<p id="property-layout-global">When the <a href="#layout"><code>rendition:layout</code>
									property</a> is specified on a <code>meta</code> element, it indicates that the
								paginated or reflowable layout style applies globally for the <a>Rendition</a> (i.e.,
								for all spine items).</p>

							<p>The default value <code>reflowable</code> MUST be assumed by <a>EPUB Reading Systems</a>
								as the global value if no <code>meta</code> element carrying this property occurs in the
									<a href="#elemdef-opf-metadata"><code>metadata</code></a> section.</p>

							<p>When the <code>rendition:layout</code> property is set to <code>pre-paginated</code>,
								Reading Systems MUST NOT include space between the adjacent content slots when rendering
									<a>Synthetic Spreads</a>.</p>

							<p>When the property is set to <code>pre-paginated</code> for a spine item, its content
								dimensions MUST be set as defined in <a href="epub-contentdocs.html#sec-fixed-layouts"
									>Fixed Layouts</a> [[!ContentDocs32]].</p>

							<p>The <code>rendition:layout</code> property MUST NOT be declared more than once.</p>

						</section>

						<section id="layout-values">
							<h5>Allowed Values</h5>

							<p>The following values are defined for use with the <code>rendition:layout</code>
								property:</p>

							<dl class="variablelist">
								<dt id="def-layout-reflowable">reflowable</dt>
								<dd>
									<p>The given Rendition is not pre-paginated. Reading Systems MAY apply dynamic
										pagination when rendering.</p>
								</dd>
								<dt id="def-layout-pre-paginated">pre-paginated</dt>
								<dd>
									<p>The given Rendition is pre-paginated. Reading Systems MUST produce exactly one
										page per spine <a href="#elemdef-spine-itemref"><code>itemref</code></a> when
										rendering.</p>
								</dd>
							</dl>

							<div class="note" id="uaag">
								<p>Reading Systems typically restrict or deny the application of user or user agent
									style sheets to pre-paginated documents, since, as a result of intrinsic properties
									of such documents, dynamic style changes are highly likely to have unintended
									consequences. Authors need to take into account the negative impact on usability and
									accessibility that these restrictions have when choosing to use pre-paginated
									instead of reflowable content. Refer to <a
										href="https://www.w3.org/TR/2015/NOTE-UAAG20-20151215/#gl-text-config">Guideline
										1.4 - Provide text configuration</a> [[UAAG20]] for related information.</p>
							</div>

						</section>

						<section id="layout-overrides">
							<h5>Spine Overrides</h5>

							<p id="property-layout-local">Authors MAY specify the following properties locally on spine
									<a href="#elemdef-spine-itemref"><code>itemref</code></a> elements to override the
									<a href="#property-layout-global">global value</a> for the given spine item:</p>

							<dl>
								<dt id="layout-pre-paginated">layout-pre-paginated</dt>
								<dd>Specifies that the given spine item is pre-paginated.</dd>

								<dt id="layout-reflowable">layout-reflowable</dt>
								<dd>Specifies that the given spine item is reflowable.</dd>
							</dl>

							<p>Only one of these overrides is allowed on any given spine item.</p>

						</section>

						<section id="layout-examples">
							<h5>Examples</h5>

							<aside class="example" id="fxl-ex1">
								<p>The following example demonstrates fully fixed-layout content, using
									[[CSS3-MediaQueries]] to apply different style sheets for three different device
									categories. Note that the Media Queries only affect the style sheet applied to the
									document; the size of the content area set in the <code>viewport</code>
									<code>meta</code> tag is static.</p>

								<h5>Package Document</h5>

								<pre>&lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;</pre>

								<h5>XHTML</h5>

								<pre>&lt;head&gt;
    &lt;meta name="viewport" content="width=1200, height=900"/&gt;
	
    &lt;link rel="stylesheet" href="eink-style.css" media="(max-monochrome: 3)"/&gt;
    &lt;link rel="stylesheet" href="skinnytablet-style.css" media="((color) and
        (max-height:600px) and (orientation:landscape), (color) and (max-width:600px)
        and (orientation:portrait))"/&gt;
    &lt;link rel="stylesheet" href="fattablet-style.css" media="((color) and
        (min-height:601px) and (orientation:landscape), (color) and (min-width:601px)
        and (orientation:portrait)"/&gt;	
&lt;/head&gt;
</pre>
							</aside>

						</section>
					</section>

					<section id="orientation">
						<h4>The <code>rendition:orientation</code> Property</h4>

						<p>The <code>rendition:orientation</code> property specifies which orientation the Author
							intends the given Rendition to be rendered in. </p>

						<section id="orientation-usage">
							<h5>Usage</h5>

							<p id="property-orientation-global">When the <a href="#orientation"
										><code>rendition:orientation</code> property</a> is specified on a
									<code>meta</code> element, it indicates that the intended orientation applies
								globally for the given Rendition (i.e., for all spine items).</p>

							<p>The default value <code>auto</code> MUST be assumed by Reading Systems as the global
								value if no <code>meta</code> element carrying this property occurs in the
									<code>metadata</code> section.</p>

							<p>The <code>rendition:orientation</code> property MUST NOT be declared more than once.</p>

						</section>

						<section id="orientation-values">
							<h5>Allowed Values</h5>

							<p>The following values are defined for use with the <code>rendition:orientation</code>
								property:</p>

							<dl class="variablelist">
								<dt>landscape</dt>
								<dd>
									<p>The given Rendition is intended for landscape rendering.</p>
								</dd>
								<dt>portrait</dt>
								<dd>
									<p> The given Rendition is intended for portrait rendering.</p>
								</dd>
								<dt>auto</dt>
								<dd>
									<p> The given Rendition is not orientation constrained.</p>
								</dd>
							</dl>

							<p>Reading Systems that support multiple orientations SHOULD convey the intended orientation
								to the user, unless the given value is <code>auto</code>. The means by which the intent
								is conveyed is implementation-specific.</p>

						</section>

						<section id="orientation-overrides">
							<h5>Spine Overrides</h5>

							<p id="property-orientation-local">Authors MAY specify the following properties locally on
								spine <a href="#elemdef-spine-itemref"><code>itemref</code></a> elements to override the
									<a href="#property-orientation-global">global value</a> for the given spine
								item:</p>

							<dl>
								<dt id="orientation-auto">orientation-auto</dt>
								<dd>Specifies that the Reading System determines the orientation to render the spine
									item in.</dd>

								<dt id="orientation-landscape">orientation-landscape</dt>
								<dd>Specifies that the given spine item is to be rendered in landscape orientation.</dd>

								<dt id="orientation-portrait">orientation-portrait</dt>
								<dd>Specifies that the given spine item is to be rendered in portrait orientation.</dd>
							</dl>

							<p>Only one of these overrides is allowed on any given spine item.</p>

						</section>

						<section id="orientation-examples">
							<h5>Examples</h5>

							<aside class="example" id="fxl-ex2">
								<p>The following example demonstrates fully fixed-layout content intended to be rendered
									without synthetic spreads, and locked to landscape orientation.</p>
								<pre>&lt;metadata&gt;
    &lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
    &lt;meta property="rendition:spread"&gt;none&lt;/meta&gt;
    
    &lt;meta property="rendition:orientation"&gt;landscape&lt;/meta&gt;
&lt;/metadata&gt;</pre>
							</aside>

						</section>

					</section>

					<section id="spread">
						<h4>The <code>rendition:spread</code> Property</h4>

						<p>The <code>rendition:spread</code> property specifies the intended Reading System synthetic
							spread behavior for the given Rendition.</p>

						<section id="spread-usage">
							<h5>Usage</h5>

							<p id="property-spread-global">When the <code>rendition:spread</code> property is specified
								on a <code>meta</code> element, it indicates that the intended <a>Synthetic Spread</a>
								behavior applies globally for the given Rendition (i.e., for all spine items).</p>

							<p>The default value <code>auto</code> MUST be assumed by Reading Systems as the global
								value if no <code>meta</code> element carrying this property occurs in the
									<code>metadata</code> section.</p>

							<p>The <code>rendition:spread</code> property MUST NOT be declared more than once.</p>

						</section>

						<section id="spread-values">
							<h5>Allowed Values</h5>

							<p>The following values are defined for use with the <code>rendition:spread</code>
								property:</p>

							<dl class="variablelist">
								<dt>none</dt>
								<dd>
									<p>Reading Systems MUST NOT incorporate spine items in a Synthetic Spread.</p>
								</dd>
								<dt>landscape</dt>
								<dd>
									<p>Reading Systems SHOULD render a Synthetic Spread for spine items only when the
										device is in landscape orientation.</p>
								</dd>
								<dt>portrait (deprecated)</dt>
								<dd>
									<p>The use of spreads only in portrait orientation is <a
											href="epub-spec.html#deprecated">deprecated</a>.</p>
									<p>Authors are advised to use the value "<code>both</code>" instead, as spreads that
										are readable in portrait orientation are also readable in landscape. Reading
										Systems SHOULD treat the value "<code>portrait</code>" as a synonym of
											"<code>both</code>" and create spreads regardless of orientation.</p>
								</dd>
								<dt>both</dt>
								<dd>
									<p>Reading Systems SHOULD render a Synthetic Spread regardless of device
										orientation.</p>
								</dd>
								<dt>auto</dt>
								<dd>
									<p>No explicit Synthetic Spread behavior is defined. Reading Systems MAY use
										Synthetic Spreads in specific or all device orientations as part of a <a>Content
											Display Area</a> utilization optimization process.</p>
								</dd>
							</dl>

							<div class="note">
								<p>When Synthetic Spreads are used in the context of HTML and SVG Content Documents, the
									dimensions given via the <a href="epub-contentdocs.html#sec-fxl-icb-html"
											><code>viewport</code>
										<code>meta</code> element</a> [[ContentDocs32]] and <a
										href="epub-contentdocs.html#sec-fxl-icb-svg"><code>viewBox</code> attribute</a>
									[[ContentDocs32]] represents the size of one page in the spread, respectively.</p>
							</div>

							<div class="note">
								<p>Refer to <a href="#sec-spine-elem">spine</a> for information about declaration of
									global flow directionality using the <code>page-progression-direction</code>
									attribute and that of local page-progression-direction within content documents.</p>
							</div>

						</section>

						<section id="spread-overrides">
							<h5>Spine Overrides</h5>

							<p id="property-spread-local">Authors MAY specify the following properties locally on spine
									<a href="#elemdef-spine-itemref"><code>itemref</code></a> elements to override the
									<a href="#property-spread-global">global value</a> for the given spine item:</p>

							<dl>
								<dt id="spread-auto">spread-auto</dt>
								<dd>Specifies the Reading System determines when to render a synthetic spread for the
									spine item. </dd>

								<dt id="spread-both">spread-both</dt>
								<dd>Specifies the Reading System should render a synthetic spread for the spine item in
									both portrait and landscape orientations. </dd>

								<dt id="spread-landscape">spread-landscape</dt>
								<dd> Specifies the Reading System should render a synthetic spread for the spine item
									only when in landscape orientation.</dd>

								<dt id="spread-none">spread-none</dt>
								<dd>Specifies the Reading System should not render a synthetic spread for the spine
									item.</dd>

								<dt id="spread-portrait">spread-portrait</dt>
								<dd>The <code>spread-portrait</code> property is <a href="epub-spec.html#deprecated"
										>deprecated</a>. Refer to its definition in [[!Publications301]] for more
									information.</dd>
							</dl>

							<p>Only one of these overrides is allowed on any given spine item.</p>

						</section>

						<section id="spread-examples">
							<h5>Examples</h5>

							<aside class="example" id="fxl-ex3">
								<p>The following example demonstrates fully fixed-layout content intended to be rendered
									using synthetic spreads in landscape orientation, and with no spreads in portrait
									orientation.</p>
								<pre>&lt;metadata&gt;
    &lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
    &lt;meta property="rendition:spread"&gt;landscape&lt;/meta&gt;
&lt;/metadata&gt;</pre>
							</aside>

							<aside class="example" id="fxl-ex4">
								<p>The following example demonstrates reflowable content with a single fixed-layout
									title page, where the fixed-layout page is intended for right-hand spread slot if
									the device renders Synthetic Spreads.</p>
								<pre>&lt;metadata&gt;
    &lt;meta property="rendition:layout"&gt;reflowable&lt;/meta&gt;
    &lt;meta property="rendition:spread"&gt;auto&lt;/meta&gt;
&lt;/metadata&gt;

&lt;spine&gt;
    &lt;itemref idref="titlepage" properties="page-spread-right rendition:layout-pre-paginated"/&gt;
&lt;/spine&gt;</pre>
							</aside>

						</section>

					</section>

					<section id="page-spread">
						<h4>The <code>rendition:page-spread-*</code> Properties</h4>

						<section id="page-spread-usage">
							<h5>Usage</h5>

							<p>When a Reading System renders a <a>Synthetic Spread</a>, the default behavior is to
								populate the spread by rendering the next <a>EPUB Content Document</a> in the next
								available unpopulated viewport, where the next available viewport is determined by the
								given <a href="#sec-spine-elem">page progression direction</a> or by local declarations
								within Content Documents. An Author MAY override this automatic population behavior and
								forcing a document to be placed in a particular viewport by specifying one of the
								following properties on its spine <code>itemref</code> element:</p>

							<dl>
								<dt id="page-spread-center"><code>rendition:page-spread-center</code></dt>
								<dd>The <code>rendition:page-spread-center</code> property specifies the forced
									placement of a Content Document in a <a href="epub-spec.html#dfn-synthetic-spread"
										>Synthetic Spread</a>. </dd>

								<dt id="fxl-page-spread-left"><code>rendition:page-spread-left</code></dt>
								<dd>The <code>rendition:page-spread-left</code> property is an alias for the <code><a
											href="#page-spread-left">page-spread-left</a></code> property.</dd>

								<dt id="fxl-page-spread-right"><code>rendition:page-spread-right</code></dt>
								<dd>The <code>rendition:page-spread-right</code> property is an alias for the <code><a
											href="#page-spread-right">page-spread-right</a></code> property.</dd>
							</dl>

							<p>The <code>rendition:page-spread-left</code> property indicates that the given spine item
								SHOULD be rendered in the left-hand slot in the spread, and
									<code>rendition:page-spread-right</code> that it SHOULD be rendered in the
								right-hand slot. The <code>rendition:page-spread-center</code> property indicates that
								the synthetic spread mode SHOULD be overridden and a single viewport rendered and
								positioned at the center of the screen.</p>

							<p>The <code>rendition:page-spread-left</code>, <code>rendition:page-spread-right</code> and
									<code>rendition:page-spread-center</code> properties apply to both pre-paginated and
								reflowable content, and they only apply when the Reading System is creating Synthetic
								Spreads.</p>

							<p>The <code>rendition:page-spread-*</code> properties take precedence over whatever value
								of the <a href="https://www.w3.org/TR/CSS2/page.html#propdef-page-break-before"
										><code>page-break-before</code> property</a> [[!CSSSnapshot]] has been set for
								an <a>XHTML Content Document</a>.</p>

							<div class="note">
								<p>The presence of <code>rendition:page-spread-center</code> does not change the
									viewport dimensions. In particular, it does not indicate that a viewport with the
									size of the whole spread has to be created. This is important so that the scale
									factor stays consistent between regular and center-spread pages.</p>
							</div>

							<p>When a <a href="#def-layout-reflowable">reflowable</a> spine item follows a <a
									href="#def-layout-pre-paginated">pre-paginated</a> one, the reflowable one SHOULD
								start on the next page (as defined by the <a
									href="#attrdef-spine-page-progression-direction"
										><code>page-progression-direction</code></a>) when it lacks a
									<code>rendition:page-spread-*</code> property value. If the reflowable spine item
								has a <code>rendition:page-spread-*</code> specification, it MUST be honored (e.g., by
								inserting a blank page).</p>

							<p>Similarly, when a pre-paginated spine item follows a reflowable one, the pre-paginated
								one SHOULD start on the next page (as defined by the
									<code>page-progression-direction</code>) when it lacks a
									<code>rendition:page-spread-*</code> property value. If the pre-paginated spine item
								has a <code>rendition:page-spread-*</code> specification, it MUST be honored (e.g., by
								inserting a blank page).</p>

							<p>Although Authors often indicate to use a spread in certain device orientations, the
								content itself does not represent true spreads (i.e., two consecutive pages that have to
								be rendered side-by-side for readability, such as a two-page map). To indicate that two
								consecutive pages represent a true spread, Authors SHOULD use the
									<code>rendition:page-spread-left</code> and <code>rendition:page-spread-right</code>
								properties on the spine items for the two adjacent EPUB Content Documents, and omit the
								properties on spine items where one-up or two-up presentation is equally acceptable.
								When a Reading System encounters two spine items that represent a true spread, it SHOULD
								create the spread with no space between the adjacent pages.</p>

							<p>Only one <code>page-spread-*</code> property can be declared on any given spine item.</p>

							<div class="note" id="note-page-spread-aliases">
								<p>The <code>rendition:page-spread-left</code> and
										<code>rendition:page-spread-right</code> properties are aliases for the <a
										href="#page-spread-left"><code>page-spread-left</code></a> and <a
										href="#page-spread-right"><code>spread-right</code></a> properties. They allow
									the use of a single vocabulary for all fixed-layout properties. Authors can use
									either property set, but older Reading Systems might only recognize the unprefixed
									versions. The <a href="#app-itemref-properties-vocab">EPUB Spine Properties
										Vocabulary</a> is no longer being extended for package rendering metadata, so an
									unprefixed <code>page-spread-center</code> is not available.</p>
							</div>

						</section>

						<section id="page-spread-examples">
							<h5>Examples</h5>

							<aside class="example" id="fxl-ex5">
								<p>The following example demonstrates reflowable content with a two-page fixed-layout
									center plate that is intended to be rendered using synthetic spreads in any device
									orientation. Note that the author has left spread behavior for the other
									(reflowable) parts of the <a>Rendition</a> undefined, since the global value of
										<code>rendition:spread</code> is initialized to <code>auto</code> by
									default.</p>
								<pre>&lt;spine page-progression-direction="ltr"&gt;
    …
    &lt;itemref idref="center-plate-left"
             properties="rendition:spread-both rendition:page-spread-left"/&gt;
    &lt;itemref idref="center-plate-right"
             properties="rendition:spread-both rendition:page-spread-right"/&gt;
    …
&lt;/spine&gt;</pre>
							</aside>

							<aside class="example" id="fxl-ex6">
								<p>The following example demonstrates fixed-layout content, where synthetic spreads,
									when used, have to be disabled for a center plate. Note that the
										<code>rendition:spread</code> declaration <code>none</code> expression is not
									needed on the center plate item, as the <code>rendition:page-spread-center</code>
									property already specifies semantics that dictates that synthetic spreads be
									disabled.</p>
								<pre>&lt;metadata&gt;
    &lt;meta property="rendition:layout"&gt;pre-paginated&lt;/meta&gt;
    &lt;meta property="rendition:spread"&gt;auto&lt;/meta&gt;
&lt;/metadata&gt;
&lt;spine&gt;
    &lt;itemref idref="center-plate" properties="rendition:page-spread-center"/&gt;
&lt;/spine&gt;</pre>
							</aside>

						</section>
					</section>

					<section id="viewport">
						<h4>The <code>rendition:viewport</code> Property (Deprecated)</h4>

						<p>The <code>rendition:viewport</code> property allows <a>Authors</a> to express the CSS initial
							containing block (ICB) [[!CSS21]] for XHTML and SVG Content Documents whose
								<code>rendition:layout</code> property has been set to <code>pre-paginated</code>.</p>

						<p>Use of the property is <a href="epub-spec.html#deprecated">deprecated</a>. Refer to its
							definition in [[!Publications301]] for more information.</p>
					</section>
				</section>
			</section>
		</section>
		<section id="sec-package-nav">
			<h1>EPUB Navigation Document</h1>

			<section id="sec-package-nav-intro" class="informative">
				<h2>Introduction</h2>

				<p>The EPUB Navigation Document is a <a href="#sec-package-conformance-nav">mandatory component</a> of
					an <a>EPUB Package</a>. It allows <a>Authors</a> to include a human- and machine-readable global
					navigation layer, thereby ensuring increased usability and accessibility for the user.</p>

				<p>The EPUB Navigation Document is an <a>XHTML Content Document</a>, but with additional restrictions on
					its structure to facilitate the machine-processing of its contents. [[HTML]] <a
						href="https://www.w3.org/TR/html/sections.html#the-nav-element"><code>nav</code></a> elements
					contain the specialized navigational information, which remains human-readable as well as allowing
					Reading Systems to generate navigational interfaces.</p>

				<p>But the EPUB Navigation Document is not exclusively for machine processing. Because it is an XHTML
					Content Document, it can be part of the linear reading order, avoiding the need for duplicate tables
					of contents. Content which is only destined for machine processing, such as <a
						href="#sec-nav-pagelist">page lists</a>, can be hidden from visual rendering with the <a
						href="#sec-package-nav-def-hidden">hidden</a> attribute.</p>

				<p>Note that Reading Systems might strip scripting, styling, and HTML formatting as they generate
					navigational interfaces from information found in the EPUB Navigation Document. If such formatting
					and functionality is needed, then the EPUB Navigation Document also needs to be included in the
						<a>spine</a>. The use of <a href="epub-contentdocs.html#confreq-cd-scripted-spine">progressive
						enhancement</a> [[ContentDocs32]] techniques for scripting and styling of the navigation
					document will help ensure the content will retain its integrity when rendered in a non-browser
					context.</p>

			</section>

			<section id="sec-package-nav-content-conf">
				<h2>Content Conformance</h2>

				<p>A conformant <a>EPUB Navigation Document</a> MUST meet all of the following criteria:</p>

				<dl class="conformance-list">
					<dt id="confreq-cd-nav-docprops">Document Properties</dt>
					<dd>
						<p id="confreq-cd-nav-docprops-parent">It MUST conform to the content conformance constraints
							for <a>XHTML Content Documents</a> defined in <a
								href="epub-contentdocs.html#sec-xhtml-conf-content">XHTML Content Documents — Content
								Conformance</a> [[!ContentDocs32]].</p>
						<p id="confreq-cd-nav-docprops-schema">It MUST conform to the content conformance constraints
							specific to EPUB Navigation Documents defined in <a href="#sec-package-nav-def">EPUB
								Navigation Document Definition</a>.</p>
						<p id="confreq-cd-nav-docprops-spine">As a conforming XHTML Content Document, it MAY be included
							in the <a href="#sec-spine-elem">spine</a>.</p>
					</dd>
				</dl>

			</section>

			<section id="sec-package-nav-rs-conf">
				<h2>Reading System Conformance</h2>

				<p>A conformant <a>EPUB Reading System</a> MUST meet all of the following criteria for processing
						<a>EPUB Navigation Documents</a>:</p>

				<ul class="conformance-list">
					<li>
						<p id="confreq-nav-access">When requested by a user, it MUST provide access to the links and
							link labels in <a href="#sec-package-nav-def-types">the <code>nav</code> elements</a> of the
							EPUB Navigation Document in a fashion that allows the user to activate the links.</p>
					</li>
					<li>
						<p id="confreq-nav-activation">When a link is activated, it MUST relocate the application's
							current reading position to the destination identified by that link.</p>
					</li>
					<li>
						<p id="confreq-nav-spine">It MUST honor the above requirements irrespective of whether the EPUB
							Navigation Document is part of the <a href="#sec-spine-elem">spine</a>.</p>
					</li>
				</ul>

			</section>

			<section id="sec-package-nav-def">
				<h2>EPUB Navigation Document Definition</h2>

				<section id="sec-package-nav-def-model">
					<h3>The <code>nav</code> Element: Restrictions</h3>

					<p>When a <code>nav</code> element carries the <a
							href="epub-contentdocs.html#sec-epub-type-attribute"><code>epub:type</code> attribute</a>
						[[!ContentDocs32]] in an <a>EPUB Navigation Document</a>, this specification restricts the
						content model of the element and its descendants as follows:</p>

					<dl class="elemdef">
						<dt>Content Model</dt>
						<dd>
							<dl class="variablelist">
								<dt><a href="https://www.w3.org/TR/html/sections.html#the-nav-element"
										><code>nav</code></a></dt>
								<dd>
									<p>In this order:</p>
									<ul class="nomark">
										<li>
											<p>
												<a href="https://www.w3.org/TR/html/dom.html#heading-content"><code>HTML
														Heading content</code></a>
												<code>[0 or 1]</code></p>
										</li>
										<li>
											<p>
												<code>ol</code>
												<code>[exactly 1]</code></p>
										</li>
									</ul>
								</dd>
								<dt><a href="https://www.w3.org/TR/html/grouping-content.html#the-ol-element"
											><code>ol</code></a></dt>
								<dd>
									<p>In this order:</p>
									<ul class="nomark">
										<li>
											<p>
												<code>li</code>
												<code>[1 or more]</code></p>
										</li>
									</ul>
								</dd>
								<dt><a href="https://www.w3.org/TR/html/grouping-content.html#the-li-element"
											><code>li</code></a></dt>
								<dd>
									<p>In this order:</p>
									<ul class="nomark">
										<li>
											<p> (<code>span</code> or <code>a</code>) <code>[exactly 1]</code></p>
										</li>
										<li>
											<p>
												<code>ol</code>
												<code>[conditionally required]</code></p>
										</li>
									</ul>
								</dd>
								<dt><a href="https://www.w3.org/TR/html/textlevel-semantics.html#the-span-element"
											><code>span</code></a> and <a
										href="https://www.w3.org/TR/html/textlevel-semantics.html#the-a-element"
											><code>a</code></a></dt>
								<dd>
									<p>In any order:</p>
									<ul class="nomark">
										<li>
											<p>
												<a href="https://www.w3.org/TR/html/dom.html#phrasing-content"
														><code>HTML Phrasing content</code></a>
												<code>[1 or more]</code></p>
										</li>
									</ul>
								</dd>
							</dl>
							<p>Note that there are no restrictions on the attributes allowed on these elements.</p>
							<p>Refer the definition below for additional requirements.</p>
						</dd>
					</dl>

					<p>The content model of the <code>nav</code> element is interpreted as follows:</p>

					<ul class="conformance-list">
						<li>
							<p id="confreq-nav-ol">The <code>ol</code> child of the <code>nav</code> element represents
								the primary level of content navigation.</p>
						</li>
						<li>
							<p id="confreq-nav-a">Each list item of the ordered list represents a heading, structure or
								other item of interest. A child <code>a</code> element describes the target that the
								link points to, while a <code>span</code> element serves as a heading for breaking down
								lists into distinct groups (for example, a large list of illustrations can be segmented
								into several lists, one for each chapter).</p>
						</li>
						<li>
							<p id="confreq-nav-a-cnt">The child <code>a</code> or <code>span</code> element MUST provide
								a non zero-length text label after concatenation of all child content and application of
								white space normalization rules. Although non-textual descendant elements MAY be
								rendered directly to users, text content included in <code>title</code> or
									<code>alt</code> attributes MUST be used when determining compliance with this
								requirement.</p>
						</li>
						<li>
							<p id="confreq-nav-a-title">If an <code>a</code> or <code>span</code> element contains
								instances of <a href="https://www.w3.org/TR/html/dom.html#embedded-content">HTML
									embedded content</a> that do not provide intrinsic text alternatives, the element
								MUST also include a <code>title</code> attribute with an alternate text rendering of the
								link label.</p>
						</li>
						<li>
							<p id="confreq-nav-a-href">The IRI reference provided in the <code>href</code> attribute of
								the <code>a</code> element MUST adhere to the following requirements:</p>
							<ul>
								<li>
									<p id="confreq-nav-a-href-default">In the case of the <a href="#sec-nav-toc"
												><code>toc nav</code></a>, <a href="#sec-nav-landmarks"><code>landmarks
												nav</code></a> and <a href="#sec-nav-pagelist"><code>page-list
												nav</code></a>, it MUST resolve to an <a>Top-level Content Document</a>
										or fragment therein.</p>
								</li>
								<li>
									<p id="confreq-nav-a-href-other">For all other <code>nav</code> types, it MAY also
										reference <a>Remote Resources</a>.</p>
								</li>
							</ul>
						</li>
						<li>
							<p id="confreq-nav-a-nest">An <code>a</code> element MAY be followed by an <code>ol</code>
								ordered list representing a subsidiary content level below that heading (e.g., all the
								subsection headings of a section).</p>
						</li>
						<li>
							<p id="confreq-nav-span-nest">A <code>span</code> element MUST be followed by an
									<code>ol</code> ordered list; it cannot be used in "leaf" <code>li</code>
								elements.</p>
						</li>
						<li>
							<p id="confreq-nav-sublist">Regardless of whether an <code>a</code> or <code>span</code>
								element precedes it, every sublist MUST adhere to the content requirements defined in
								this section for constructing the primary navigation list.</p>
						</li>
					</ul>

					<p>EPUB specifications MAY introduce further restrictions on the content model defined above for
							<code>nav</code> elements in the EPUB Navigation Document.</p>

					<aside class="example">
						<p>The following example shows the basic patterns of a navigation element.</p>
						<pre>&lt;nav epub:type="…"&gt;
  &lt;h1&gt;…&lt;/h1&gt;
  &lt;ol&gt;
    &lt;li&gt;
      &lt;a href="chap1.xhtml"&gt;A basic leaf node&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;a href="chap2.xhtml"&gt;A linked heading&lt;/a&gt;
      &lt;ol&gt;
        …
      &lt;/ol&gt;
    &lt;li&gt;
      &lt;span&gt;An unlinked heading&lt;/span&gt;
      &lt;ol&gt;
        …
      &lt;/ol&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/nav&gt;
</pre>
					</aside>

					<p id="confreq-nav-ol-style">In the context of this specification, the default display style of list
						items within <code>nav</code> elements MUST be equivalent to the <a
							href="https://www.w3.org/TR/CSS2/generate.html#propdef-list-style"><code>list-style:
								none</code> property</a> [[!CSSSnapshot]]. Reading Systems MUST NOT show list item
						numbering on these lists when presenting the Navigation Document outside of the spine,
						regardless of their support for CSS. <a>Authors</a> MAY specify alternative list styling using
						CSS for rendering of the document in the <a href="#sec-spine-elem"><code>spine</code></a>.</p>

				</section>

				<section id="sec-package-nav-def-types">
					<h3>The <code>nav</code> Element: Types</h3>

					<section id="sec-package-nav-def-types-intro" class="informative">
						<h4>Introduction</h4>

						<p>The <code>nav</code> elements defined in an EPUB Navigation Document are distinguished
							semantically by the value of their <a href="epub-contentdocs.html#sec-epub-type-attribute"
									><code>epub:type</code> attribute</a> [[ContentDocs32]].</p>

						<p>This specification defines three types of navigation aid:</p>

						<dl class="variablelist">
							<dt><a href="#sec-nav-toc"><code>toc</code></a></dt>
							<dd>
								<p>Identifies the <code>nav</code> element that contains the table of contents. The
										<code>toc</code>
									<code>nav</code> is the only navigation aid that has to be included in the EPUB
									Navigation Document.</p>
							</dd>
							<dt><a href="#sec-nav-pagelist"><code>page-list</code></a></dt>
							<dd>
								<p>Identifies the <code>nav</code> element that contains a list of pages for a print or
									other statically-paginated source for the <a>EPUB Publication</a>.</p>
							</dd>
							<dt><a href="#sec-nav-landmarks"><code>landmarks</code></a></dt>
							<dd>
								<p>Identifies the <code>nav</code> element that contains a list of points of
									interest.</p>
							</dd>
						</dl>

						<p>Additional navigation types can be included in the EPUB Navigation Document. See <a
								href="#sec-package-nav-def-types-other">Other <code>nav</code> Elements</a> for more
							information.</p>

					</section>

					<section id="sec-nav-toc">
						<h4>The <code>toc nav</code> Element </h4>

						<p>The <code>toc</code>
							<code>nav</code> element defines the primary navigational hierarchy of the given
								<a>Rendition</a>. It conceptually corresponds to a table of contents in a printed work
							(i.e., it provides navigation to the major structural sections of the publication).</p>

						<p>The references in the <code>toc</code>
							<code>nav</code> element MUST be ordered such that they reflect both:</p>

						<ul>
							<li>
								<p>the order of the <a href="#confreq-nav-a-href">referenced EPUB Content Documents</a>
									in the <a>spine</a>;</p>
							</li>
							<li>
								<p>the order of the targeted elements within their respective EPUB Content
									Documents.</p>
							</li>
						</ul>

						<p>The <code>toc</code>
							<code>nav</code> element MUST occur exactly once in an EPUB Navigation Document.</p>

					</section>

					<section id="sec-nav-pagelist">
						<h4>The <code>page-list nav</code> Element </h4>

						<p>The <code>page-list</code>
							<code>nav</code> element provides navigation to positions in the content that correspond to
							the locations of page boundaries present in a print source being represented by the <a>EPUB
								Publication</a>.</p>

						<p>The <code>page-list</code>
							<code>nav</code> element is OPTIONAL in EPUB Navigation Documents and MUST NOT occur more
							than once.</p>

						<p>The page references within the <code>page-list</code>
							<code>nav</code> MUST be ordered so that they match both the order of the <a
								href="#confreq-nav-a-href">targeted EPUB Content Documents</a> in the <a
								href="#sec-spine-elem">spine</a> and the order of each page within its respective EPUB
							Content Document.</p>

						<p>The <code>page-list</code>
							<code>nav</code> element SHOULD contain only a single <code>ol</code> descendant (i.e., no
							nested sublists).</p>

						<p>The destinations of the <code>page-list</code> references MAY be identified in their
							respective EPUB Content Documents using the <a
								href="http://www.idpf.org/epub/vocab/structure#pagebreak"><code>pagebreak</code>
								term</a> [[!EPUB-SSV]].</p>

					</section>

					<section id="sec-nav-landmarks">
						<h4>The <code>landmarks nav</code> Element </h4>

						<p>The <code>landmarks</code>
							<code>nav</code> element identifies fundamental structural components in the given
								<a>Rendition</a> in order to enable Reading Systems to provide the user efficient access
							to them.</p>

						<p>The <a href="epub-contentdocs.html#sec-epub-type-attribute"><code>epub:type</code>
								attribute</a> [[!ContentDocs32]] is REQUIRED on <code>a</code> element descendants of
							the <code>landmarks</code>
							<code>nav</code> element. The structural semantics of each link target within the
								<code>landmarks</code>
							<code>nav</code> element is determined by the value of this attribute.</p>

						<aside class="example">
							<p>The following example shows a <code>landmarks</code>
								<code>nav</code> element with structural semantics drawn from the [[EPUB-SSV]].</p>
							<pre>&lt;nav epub:type="landmarks"&gt;
    &lt;h2&gt;Guide&lt;/h2&gt;
    &lt;ol&gt;
        &lt;li&gt;&lt;a epub:type="toc" href="#toc"&gt;Table of Contents&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a epub:type="loi" href="content.html#loi"&gt;List of Illustrations&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a epub:type="bodymatter" href="content.html#bodymatter"&gt;Start of Content&lt;/a&gt;&lt;/li&gt;
    &lt;/ol&gt;
&lt;/nav&gt;</pre>
						</aside>

						<p>The <code>landmarks</code>
							<code>nav</code> MUST NOT include multiple entries with the same <code>epub:type</code>
							value that reference the same resource, or fragment thereof.</p>

						<p>The <code>landmarks</code>
							<code>nav</code> element is OPTIONAL in EPUB Navigation Documents and MUST NOT occur more
							than once.</p>

					</section>

					<section id="sec-package-nav-def-types-other">
						<h4>Other <code>nav</code> Elements</h4>

						<p>EPUB Navigation Documents MAY include one or more <code>nav</code> elements in addition to
							the <code>toc</code>, <code>page-list</code> and <code>landmarks</code>
							<code>nav</code> elements defined in the preceding sections. These additional
								<code>nav</code> elements SHOULD have an <code>epub:type</code> attribute to provide a
							machine-readable semantic, and MUST have a human-readable heading as their first child.</p>

						<p>This specification imposes no restrictions on the semantics of any additional
								<code>nav</code> elements: they MAY be used to represent navigational semantics for any
							information domain, and they MAY contain link targets with homogeneous or heterogeneous
							semantics.</p>

						<aside class="example">
							<p>The following example shows a custom list of tables navigation element.</p>
							<pre>&lt;nav aria-labelledby="lot"&gt;
    &lt;h2 id="lot"&gt;List of tables&lt;/h2&gt;
    &lt;ol&gt;
        &lt;li&gt;&lt;span&gt;Tables in Chapter 1&lt;/span&gt;
            &lt;ol&gt;
                &lt;li&gt;&lt;a href="chap1.xhtml#table-1.1"&gt;Table 1.1&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;&lt;a href="chap1.xhtml#table-1.2"&gt;Table 1.2&lt;/a&gt;&lt;/li&gt;
            &lt;/ol&gt;
        &lt;/li&gt;
    	…
    &lt;/ol&gt;
&lt;/nav&gt;</pre>
						</aside>

					</section>

				</section>

				<section id="sec-package-nav-def-hidden">
					<h3>The <code>hidden</code> attribute</h3>

					<p>In some cases, <a>Authors</a> might wish to hide parts of the navigation data within the content
						flow (i.e., the Reading System's principal rendering of the <a>spine</a> contents). A typical
						example is the <a href="#sec-nav-pagelist">list of page breaks</a>, which usually is not
						rendered as part of the content flow but is instead exposed to the user separately in a
						dedicated navigation user interface.</p>

					<p> While the <a href="https://www.w3.org/TR/CSS2/visuren.html#propdef-display"><code>display</code>
							property</a> [[!CSSSnapshot]] can be used to control the visual rendering of EPUB Navigation
						Documents in Reading Systems with <a>Viewports</a>, not all Reading Systems provide such an
						interface. To control rendering across all Reading Systems, authors MUST use the [[!HTML]] <a
							href="https://www.w3.org/TR/html/editing.html#the-hidden-attribute"><code>hidden</code></a>
						attribute to indicate which (if any) portions of the navigation data are excluded from rendering
						in the content flow. The <code>hidden</code> attribute has no effect on how navigation data is
						rendered outside of the content flow (such as in dedicated navigation user interfaces provided
						by Reading Systems).</p>

					<aside class="example">
						<p>The following example shows a partial <code>page-list</code>
							<code>nav</code> element. The presence of the <code>hidden</code> attribute on the root
							indicates that the entire list is excluded from rendering in the content flow.</p>
						<pre>&lt;nav epub:type="page-list" hidden=""&gt;
    &lt;h2&gt;Pagebreaks of the print version, third edition&lt;/h2&gt;
    &lt;ol&gt;
        &lt;li&gt;&lt;a href="frontmatter.xhtml#pi"&gt;I&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="frontmatter.xhtml#pii"&gt;II&lt;/a&gt;&lt;/li&gt; … &lt;li&gt;&lt;a href="chap1.xhtml#p1"&gt;1&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="chap1.xhtml#p2"&gt;2&lt;/a&gt;&lt;/li&gt; … &lt;/ol&gt;
&lt;/nav&gt;
</pre>
					</aside>

					<aside class="example">
						<p>The following example shows a partial <code>toc</code>
							<code>nav</code> element where the <code>hidden</code> attribute is used to limit content
							flow rendering to the two topmost hierarchical levels.</p>
						<pre>&lt;nav epub:type="toc" id="toc"&gt;
  &lt;h1&gt;Table of contents&lt;/h1&gt;
  &lt;ol&gt;
    &lt;li&gt;
      &lt;a href="chap1.xhtml"&gt;Chapter 1&lt;/a&gt;
      &lt;ol&gt;
        &lt;li&gt;
          &lt;a href="chap1.xhtml#sec-1.1"&gt;Chapter 1.1&lt;/a&gt;
          &lt;ol hidden=""&gt;
            &lt;li&gt;
              &lt;a href="chap1.xhtml#sec-1.1.1"&gt;Section 1.1.1&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;a href="chap1.xhtml#sec-1.1.2"&gt;Section 1.1.2&lt;/a&gt;
            &lt;/li&gt;
          &lt;/ol&gt;
         &lt;/li&gt;
         &lt;li&gt;
           &lt;a href="chap1.xhtml#sec-1.2"&gt;Chapter 1.2&lt;/a&gt;
         &lt;/li&gt;
       &lt;/ol&gt;
     &lt;/li&gt;
    &lt;li&gt;
      &lt;a href="chap2.xhtml"&gt;Chapter 2&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/nav&gt;
</pre>
					</aside>
				</section>
			</section>
		</section>
		<section class="appendix" id="app-package-schema">
			<h1>Package Document Schema</h1>

			<p>A non-normative schema for Package Documents is available at <a
					href="https://github.com/w3c/epubcheck/tree/master/src/main/resources/com/adobe/epubcheck/schema/30/package-30.nvdl"
					>https://github.com/w3c/epubcheck/tree/master/src/main/resources/com/adobe/epubcheck/schema/30/package-30.nvdl</a>.</p>

			<p>Validation using this schema requires a processor that supports [[NVDL]], [[RelaxNG-Schema]],
				[[ISOSchematron]] and [[XMLSCHEMA-2]].</p>

			<div class="note">
				<p>The NVDL schema layer can be substituted by a multi-pass validation using the embedded RELAX NG and
					ISO Schematron schemas alone.</p>
			</div>

			<div class="note">
				<p>These schemas may be updated and corrected outside of formal revisions of this specification. As a
					result, they are subject to change at any time. </p>
			</div>

		</section>
		<section class="appendix informative" id="app-media-type-app-oebps-package">
			<h1>The <code>application/oebps-package+xml</code> Media Type</h1>

			<p>This appendix registers the media type <code>application/oebps-package+xml</code> for the EPUB Package
				Document. This registration supersedes [[!RFC4839]].</p>

			<p>The Package Document is an XML file that describes a Rendition of an EPUB Publication. It identifies the
				resources in the Rendition and provides metadata information. The Package Document and its related
				specifications are maintained and defined by the W3C’s <a href="https://www.w3.org/community/epub3/"
					>EPUB 3 Community Group</a>.</p>

			<dl class="variablelist">
				<dt>MIME media type name:</dt>
				<dd>
					<p><code>application</code></p>
				</dd>
				<dt>MIME subtype name:</dt>
				<dd>
					<p><code>oebps-package+xml</code></p>
				</dd>
				<dt>Required parameters:</dt>
				<dd>
					<p>None.</p>
				</dd>
				<dt>Optional parameters:</dt>
				<dd>
					<p>None.</p>
				</dd>
				<dt>Encoding considerations:</dt>
				<dd>
					<p>Package Documents are UTF-8 or UTF-16 encoded XML.</p>
				</dd>
				<dt>Security considerations:</dt>
				<dd>
					<p>Package Documents contain well-formed XML conforming to the XML 1.0 specification.</p>
					<p>Clearly, it is possible to author malicious files which, for example, contain malformed data.
						Most XML parsers protect themselves from such attacks by rigorously enforcing conformance.</p>
					<p>All processors that read Package Documents should rigorously check the size and validity of data
						retrieved.</p>
					<p>There is no current provision in the EPUB Packages 3.2 specification for encryption, signing, or
						authentication within the Package Document format.</p>
				</dd>
				<dt>Interoperability considerations:</dt>
				<dd>
					<p>None.</p>
				</dd>
				<dt>Published specification:</dt>
				<dd>
					<p>This media type registration is for the EPUB Package Document, as described by the EPUB Packages
						3.2 specification located at <a
							href="http://w3c.github.io/publ-epub-revision/epub32/spec/epub-packages.html"
							>http://w3c.github.io/publ-epub-revision/epub32/spec/epub-packages.html</a>.</p>
					<p>The EPUB Packages 3.2 specification supersedes the Open Packaging Format 2.0.1 specification,
						which is located at <a href="http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm"
							>http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm</a> and which also uses the <code
							class="media-type">application/oepbs-package+xml</code> media type.</p>
				</dd>
				<dt>Applications which use this media type:</dt>
				<dd>
					<p>This media type is in wide use for the distribution of ebooks in the EPUB format. The following
						list of applications is not exhaustive.</p>
					<ul>
						<li>
							<p>Adobe Digital Editions</p>
						</li>
						<li>
							<p>Aldiko</p>
						</li>
						<li>
							<p>Azardi</p>
						</li>
						<li>
							<p>Apple iBooks</p>
						</li>
						<li>
							<p>Barnes &amp; Noble Nook</p>
						</li>
						<li>
							<p>Bluefire Reader</p>
						</li>
						<li>
							<p>Calibre</p>
						</li>
						<li>
							<p>Google Play Books</p>
						</li>
						<li>
							<p>Kobo</p>
						</li>
						<li>
							<p>Microsoft Edge</p>
						</li>
						<li>
							<p>Readium</p>
						</li>
					</ul>
				</dd>
				<dt>Additional information:</dt>
				<dd>
					<dl class="variablelist">
						<dt>Magic number(s):</dt>
						<dd>
							<p>none</p>
						</dd>
						<dt>File extension(s):</dt>
						<dd>
							<p><code>.opf</code></p>
						</dd>
						<dt>Macintosh File Type Code(s):</dt>
						<dd>
							<p>TEXT</p>
						</dd>
						<dt>Fragment Identifiers:</dt>
						<dd>
							<p>A registry of linking schemes is maintained at <a class="uri"
									href="http://www.idpf.org/epub/linking/"
										><code>http://www.idpf.org/epub/linking/</code></a>. Some of these schemes
								define custom fragment identifiers that resolve to
									<code>application/oebps-package+xml</code> documents.</p>
						</dd>
					</dl>
				</dd>
				<dt>Person &amp; email address to contact for further information:</dt>
				<dd>
					<p>public-epub3@w3.org</p>
				</dd>
				<dt>Intended usage:</dt>
				<dd>
					<p>COMMON</p>
				</dd>
				<dt>Author/Change controller:</dt>
				<dd>
					<p>The published specification is a work product of the World Wide Web Consortium’s EPUB 3 Community
						Group. W3C has change control over this specification.</p>
				</dd>
			</dl>
		</section>
		<div data-include="vocab/meta-property.html" data-oninclude="fixIncludes" data-include-replace="true"></div>
		<div data-include="vocab/link.html" data-oninclude="fixIncludes" data-include-replace="true"></div>
		<div data-include="vocab/item-properties" data-oninclude="fixIncludes" data-include-replace="true"></div>
		<div data-include="vocab/itemref-properties.html" data-oninclude="fixIncludes" data-include-replace="true"></div>
		<div data-include="acknowledgements.html" data-oninclude="fixIncludes" data-include-replace="true"></div>
	</body>
</html>
