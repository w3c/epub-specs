<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="color-scheme" content="light dark">
        <title>EPUB Annotations Use Cases and Requirements</title>
        <script
            src="https://www.w3.org/Tools/respec/respec-w3c"
            class="remove"
        ></script>
        <script src="../../common/js/css-inline.js" class="remove"></script>
        <script class="remove">
            var respecConfig = {
                group: "pm",
                wgPublicList: "public-pm-wg",
                specStatus: "ED",
                shortName: "epub-ann-ucr",
                noRecTrack: true,
                edDraftURI: "https://w3c.github.io/epub-specs/wg-notes/annotations-ucr/",
                copyrightStart: "2025",
                editors: [
                    {
                        name: "Laurent Le Meur",
                        company: "EDRLab",
                        companyURL: "https://www.edrlab.org",
                        w3cid: 91888,
                    },
                ],
                includePermalinks: true,
                permalinkEdge: true,
                permalinkHide: false,
                github: {
                    repoURL: "https://github.com/w3c/epub-specs",
                    branch: "main",
                },
                preProcess: [inlineCustomCSS],
                xref: {
                    profile: "web-platform",
                    specs: ["epub-34"],
                },
            };
        </script>
    </head>

    <body>
        <section id="abstract">
            <p>Lorem ipsum…</p>
        </section>
        <section id="sotd"></section>
        <section>
            <h2>Annotating</h2>
            <section>
                <h3>Annotating a textual section</h3>
                <p>
                    A user decides to annotate a textual section of an EPUB.
                    They select the section, trigger the annotation affordance,
                    optionally enter a note, select a highlight mode and
                    color. They then save the annotation. The selected section
                    appears on the page with the chosen highlight.
                </p>
            </section>
            <section>
                <h3>Annotating an image</h3>
                <p>
                    A user annotates an image included in an EPUB. They select
                    the image and trigger the annotation affordance. The
                    annotation feature is then identical to the one associated
                    with a textual selection.
                </p>
            </section>
            <section>
                <h3>Annotating parts of an image</h3>
                <p>
                    A user consults an EPUB publication that includes detailed
                    diagrams (e.g., in SVG) and images (e.g., in JPG or PNG)
                    visualizing a research data set. They analyse the data by
                    annotating <em>parts</em> of the diagrams and/or images by
                    selecting rectangular areas of the data visualization and
                    share these annotations with their colleagues.
                </p>
            </section>
            <section>
                <h3>Annotating parts of an audio clip</h3>
                <p>
                    A user consults an EPUB publication that includes an audio clip 
                    (e.g., in mp3 format). Thanks to the audio player offering the proper API, 
                    they select a time segment in the audio clip.
                    The annotation feature is then identical to the one associated
                    with a textual selection.
                </p>
            </section>
        </section>
        <section>
            <h2>Managing other reading traces</h2>
            <section>
                <h3>Bookmarking</h3>
                <p>
                    A user decides to bookmark a location in a reflowable EPUB. The
                    cursor is located where the user clicks on the screen, or at a
                    default location (often the top-left corner of the screen, for
                    left-to-right content). The user triggers the bookmark
                    affordance, optionally labels the bookmark, and
                    saves it. A bookmark icon appears on the page, near
                    the line where the cursor was positioned when the bookmark was
                    created.
                </p>
            </section>
            <section>
                <h3>Keeping track of the Last Reading Position</h3>
                <p>
                    A user stops reading and closes the EPUB. 
                    They export the EPUB with their annotations, bookmarks, 
                    and last reading position. 
                    They then import the EPUB into another reading system that supports this specification. 
                    The reading system opens the EPUB at the last reading position, 
                    allowing them to continue reading from where they left off.
                </p>
            </section>
        </section>
        <section>
            <h2>Creating notes</h2>
            <section>
				<h3>Creating and formatting textual notes</h3>
            	<p>
	                A user adds an annotation to an EPUB after selecting an audio segment in an audio clip. 
                    They add a textual note with rich text formatting: 
                    emphasize, italic, underline, and subtitles.
	            </p>
            </section>
            <section>
				<h3>Creating audio notes</h3>
            	<p>
	                A user adds an annotation to an EPUB after selecting an image. 
                    They add an audio note by recording their voice; the audio clip is attached 
                    to the annotation.
	            </p>
            </section>
            <section>
				<h3>Creating image notes</h3>
            	<p>
	                A user adds an annotation to an EPUB after highlighting some text. 
                    They add an image note by drawing a sketch on their screen with their digital pen and attaching it 
                    to the annotation.
	            </p>
            </section>
            <section>
				<h3>Annotation color and highlight type</h3>
            	<p>
	                A user adds an annotation to an EPUB after highlighting some text. 
                    They select a color for the highlight and a type (e.g. solid background,underline, strikethrough, outline).
	            </p>
            </section>
            <section>
				<h3>Annotation keywords</h3>
            	<p>
	                A user adds an annotation to an EPUB. 
                    They enter one or more keywords that will help categorizing the annotation.
	            </p>
            </section>
        </section>
        <section>
            <h2>Creating threads of annotations</h2>
            <p>
                A user responds to an annotation by creating a new annotation that points
                to the first one, creating a thread of annotations.
            </p>
        </section>
        <section>
            <h2>Exporting &amp; importing annotations and bookmarks</h2>
            <section>
				<h3>Publishing a book with annotations</h3>
            	<p>
	                A famous author annotates a book they have just written, and deals
	                with their publisher a specific edition of the EPUB version of the
	                book which includes these annotations. Readers buy this highly
	                marketed edition, open it with a reading system that supports
	                this specification, and benefit from the author's notes.
	            </p>
            </section>
            <section>
				<h3>Exporting a book with annotations</h3>
            	<p>
	                A user exports from a reading system an EPUB they have previously
	                annotated. They decide to save their annotations and bookmarks in
	                the EPUB package. If they import the ebook into another reading
	                system that supports this specification, annotations and
	                bookmarks automatically appear.
	            </p>
            </section>
            <section>
				<h3>Annotations used in the publishing workflow</h3>
            	<p>
	                A copy-editor verifies an EPUB before publication. They open the
	                EPUB in a reading system that supports this specification,
	                annotate text containing typos and images with missing
	                descriptions. They export their set of annotations to a destination
	                folder with a specific file name and provide the file to the
	                EPUB creator. The EPUB creator associates the annotation set
	                with the EPUB file in an editing tool that supports this
	                specification, reviews the annotations, and corrects the EPUB accordingly.
	            </p>
            </section>
			<section>
				<h3>Annotation used in the classroom</h3>
            	<p>
	                A teacher reads an ebook and prepares some annotations. They add
	                a keyword to each annotation so that students can group them
	                easily; examples of keywords include “clarification”,
	                “question”. They export an annotation
	                file and share this file with their students. Their name (or
	                nickname) is attached to each annotation. The students import
	                the same ebook and the teacher's annotation file into their
	                reading system. Annotations prepared by the teacher appear
	                in the ebook. Students add their own annotations to the ebook
	                and send them back to the teacher, with keywords like “interpretation”. 
                    Their name or nickname is also attached to their annotations.
	            </p>
            </section>
        </section>
				<section>
					<h2>Generating citations</h2>
					<p>
							A student had temporary access to an EPUB via an academic subscription bundle.
							They annotated the ebook while they had access to it and exported their set of annotations.
							They no longer have access to the ebook.

							These annotations are nevertheless useful to them, as they include ebook metadata (title, author, year of publication), and each annotation is associated with an indication of the progression in the publication (print pagination if present, % of progression in the publication, timestamp in the case of an audiobook), and contextual information like the chapter or section in which the annotation was created.
							They can generate citations in a standardized format, like APA or MLA, to include in their report. They can then use these annotations in a word processor, or in a note-taking application, to prepare a report or an essay.
					</p>
				</section>
        <section>
            <h2>Synchronizing annotations and bookmarks</h2>
						<section>
							<h3>Synchronizing annotation among devices</h3>
							<p>
									A user annotates an EPUB. They synchronize their annotations and
									bookmarks with their other personal devices via a standardized
									Cloud mechanism supported by each of these systems.
							</p>
						</section>
						<section>
							<h3>Sharing annotations among readers</h3>
							<p>
									Participants in a book club read the same EPUB ebook during a
									period of time, in a reading system that supports this
									specification. Each participant adds notes to the ebook, and
									these annotations are shared via a standardized Cloud mechanism
									supported by their reading system. The name of each participant
									appears, so that each participant can see who made which
									annotation.
										</p>
						</section>
				</section>
        <section>
            <h2>Surviving EPUB versioning</h2>
            <p>
                A user has annotated a textual section of an EPUB and closed the
                ebook. Today, they load a new version of the EPUB in their reading
                system. The spine item in which the annotations were created has
                been modified, and some words have been added to the leaf HTML
                element in which an annotation was created, before the start of
                the annotation and in the annotated text itself. Still, the user
                gets the annotation at the proper location.
            </p>
            <p>
                The same user loads a new edition of the EPUB in their reading
                system. A new resource - a foreword - has been added to the
                spine, and the page list has been modified. Still, the user gets
                the annotation at the proper location.
            </p>
        </section>
        <section>
            <h2>List of requirements</h2>
            <p>
                In this section, we will list all requirements the  
                EPUB Annotations specification must respect to fulfil the use cases 
                listed in the previous sections. 
                Not all requirements will be kept during the implementation phase, and some 
                aspects may be postponed to future versions of the specification. 
            </p>
            <p>
                The EPUB Annotation specification should provide the following features: 
            </p>
            <section>
                <h3>1. Annotation Intents</h3>
                <ul>
                    <li>Support for highlights.</li>
                    <li>Support for bookmarks.</li>
                    <li>Support for optional notes.</li>
                    <li>Support for the last reading location.</li>
                </ul>
            </section>

            <section>
                <h3>2. Locator Types</h3>
                <ul>
                    <li>Support for progression locators, which, even if imprecise, are helpful to order annotations in a list and help position annotations if other selectors fail.</li>
                    <li>Support for character-level locators, which provide adequate selectors for bookmarks and last reading locations.</li>
                    <li>Support for text selection at a character level, including customizable highlights and optional notes.</li>
                    <li>Support for full-image selection, with the same features as text annotations.</li>
                    <li>Support for partial-image annotation at the pixel level, allowing rectangular area selection within images or diagrams.</li>
                    <li>Support for audio segment annotation at the millisecond level, enabling time-based selection and annotation of audio clips.</li>
                    <li>Support for threads of annotations, i.e., annotations pointing at annotations.</li>
                </ul>
            </section>

            <section>
                <h3>3. Annotation Content</h3>
                <ul>
                    <li>Support for textual notes with rich text formatting for (e.g., bold, italic, underline, subtitles).</li>
                    <li>Support for audio notes.</li>
                    <li>Support for image notes.</li>
                    <li>Support for an annotation color.</li>
                    <li>Support for a highlight type (e.g. solid background, underline, strikethrough, outline)</li>
                    <li>Support for keyword tagging.</li>
                </ul>
            </section>

            <section>
                <h3>4. Threaded Discussions</h3>
                <ul>
                    <li>Ability to create and manage annotation threads, linking responses to original annotations.</li>
                </ul>
            </section>

            <section>
                <h3>5. Export and Import</h3>
                <ul>
                    <li>Embedding annotations within the EPUB package for distribution.</li>
                    <li>Exporting annotations as standalone files, including metadata (book identity, author, timestamp).</li>
                    <li>Importing external annotation files and linking them to an already imported EPUB, with support for author attribution.</li>
                </ul>
            </section>

            <section>
                <h3>6. Citation Support, use without access to the publication</h3>
                <ul>
                    <li>Generation of standardized citations (e.g., APA, MLA) from annotations, including EPUB metadata and contextual information (e.g., pagination, progression, chapter/section heading).</li>
                </ul>
            </section>

            <section>
                <h3>7. Synchronization</h3>
                <ul>
                    <li>Cross-device synchronization of annotations and bookmarks via cloud services.</li>
                    <li>Multi-user annotation sharing, with clear author attribution and the possibility of real-time updates.</li>
                </ul>
            </section>

            <section>
                <h3>8. Version Resilience</h3>
                <ul>
                    <li>Persistence of annotations across EPUB updates, including structural changes (e.g., added text, modified spine, new resources).</li>
                    <li>Automatic repositioning of annotations to maintain accuracy in updated or revised EPUBs.</li>
                </ul>
            </section>
        </section>
    </body>
</html>
