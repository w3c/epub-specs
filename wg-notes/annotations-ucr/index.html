<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="color-scheme" content="light dark">
        <title>EPUB Annotations Use Cases and Requirements</title>
        <script
            src="https://www.w3.org/Tools/respec/respec-w3c"
            class="remove"
        ></script>
        <script src="../../common/js/css-inline.js" class="remove"></script>
        <script class="remove">
            var respecConfig = {
                group: "pm",
                wgPublicList: "public-pm-wg",
                specStatus: "ED",
                shortName: "epub-ann-ucr",
                noRecTrack: true,
                edDraftURI: "https://w3c.github.io/epub-specs/wg-notes/annotations-ucr/",
                copyrightStart: "2025",
                editors: [
                    {
                        name: "Laurent Le Meur",
                        company: "EDRLab",
                        companyURL: "https://www.edrlab.org",
                        w3cid: 91888,
                    },
                ],
                includePermalinks: true,
                permalinkEdge: true,
                permalinkHide: false,
                github: {
                    repoURL: "https://github.com/w3c/epub-specs",
                    branch: "main",
                },
                preProcess: [inlineCustomCSS],
                xref: {
                    profile: "web-platform",
                    specs: ["epub-34"],
                },
            };
        </script>
    </head>

    <body>
        <section id="abstract">
            <p>Lorem ipsum…</p>
        </section>
        <section id="sotd"></section>
        <section>
            <h2>Annotating</h2>
            <section>
                <h3>Annotating a textual section</h3>
                <p>
                    A user decides to annotate a textual section of an EPUB publication.
                    They select the section, trigger the annotation affordance,
                    optionally enter a note, select a highlight mode and
                    color. They then save the annotation. The selected section
                    appears on the page with the chosen highlight.
                </p>
            </section>
            <section>
                <h3>Annotating an image</h3>
                <p>

                    A user annotates an image included in an EPUB publication. They select
                    the image and trigger the annotation affordance. The
                    annotation feature is then identical to the one associated
                    with a textual selection.
                </p>
            </section>
            <section>
                <h3>Annotating parts of an image</h3>
                <p>
                    A user consults an EPUB publication that includes detailed
                    diagrams (e.g., in SVG) and images (e.g., in JPG or PNG)
                    visualizing a research data set. They analyse the data by
                    annotating <em>parts</em> of the diagrams and/or images by
                    selecting rectangular areas of the data visualization and
                    share these annotations with their colleagues.
                </p>
            </section>
            <section>
                <h3>Annotating parts of an audio clip</h3>
                <p>
                    A user consults an EPUB publication that includes an audio clip 
                    (e.g., in mp3 format). Thanks to the audio player offering the proper API, 
                    they select a time segment in the audio clip.
                    The annotation feature is then identical to the one associated
                    with a textual selection.
                </p>
            </section>
        </section>
        <section>
            <h2>Managing other reading traces</h2>
            <section>
                <h3>Bookmarking</h3>
                <p>
                    A user decides to bookmark a location in a reflowable EPUB publication. The
                    cursor is located where the user clicks on the screen, or at a
                    default location (often the top-left corner of the screen, for
                    left-to-right content). The user triggers the bookmark
                    affordance, optionally labels the bookmark, and
                    saves it. A bookmark icon appears on the screen, which helps localize the bookmarked area.
                </p>
            </section>
            <section>
                <h3>Keeping track of the Last Reading Position</h3>
                <p>
                    A user stops reading and closes the EPUB publication. 
                    They export the EPUB publication with their notes, bookmarks, 
                    and last reading position. 
                    They then import the EPUB publication into another reading system that supports this specification. 
                    The reading system opens the EPUB publication at the last reading position, 
                    allowing them to continue reading from where they left off.
                </p>
            </section>
        </section>
        <section>
            <h2>Creating notes</h2>
            <section>
				<h3>Creating and formatting textual notes</h3>
            	<p>
	                A user adds an annotation to an EPUB publication after selecting an audio segment in an audio clip. 
                    They add a textual note with rich text formatting: 
                    emphasize, italic, underline, and subtitles.
	            </p>
            </section>
            <section>
				<h3>Creating audio notes</h3>
            	<p>
	                A user adds an annotation to an EPUB publication after selecting an image. 
                    They add an audio note by recording their voice; the audio clip is attached 
                    to the annotation.
	            </p>
            </section>
            <section>
				<h3>Creating image notes</h3>
            	<p>
	                A user adds an annotation to an EPUB publication after highlighting some text. 
                    They add an image note by drawing a sketch on their screen with their digital pen and attaching it 
                    to the annotation.
	            </p>
            </section>
            <section>
				<h3>Annotation color and highlight type</h3>
            	<p>
	                A user adds an annotation to an EPUB publication after highlighting some text. 
                    They select a color for the highlight and a type (e.g. solid background,underline, strikethrough, outline).
	            </p>
            </section>
            <section>
				<h3>Annotation keywords (tags)</h3>
            	<p>
	                A user adds an annotation to an EPUB publication. 
                    They enter one or more keywords that will help categorizing the annotation.
	            </p>
            </section>
        </section>
        <section>
            <h2>Creating threads of annotations</h2>
            <p>
                A user responds to an annotation by creating a new annotation that points
                to the first one, creating a thread of annotations.
            </p>
        </section>
        <section>
            <h2>Exporting &amp; importing annotations and bookmarks</h2>
            <section>
				<h3>Publishing a book with annotations</h3>
            	<p>
	                A famous author annotates a book they have just written, and deals
	                with their publisher a specific edition of the EPUB version of the
	                book which includes these annotations. Readers buy this highly
	                marketed edition, open it with a reading system that supports
	                this specification, and benefit from the author's notes.
	            </p>
            </section>
            <section>
				<h3>Exporting a book with annotations</h3>
            	<p>
	                A user exports from a reading system an EPUB publication they have previously
	                annotated. They decide to save their notes and bookmarks in
	                the EPUB package. If they import the ebook into another reading
	                system that supports this specification, notes and
	                bookmarks automatically appear.
	            </p>
            </section>
            <section>
				<h3>Annotations used in the publishing workflow</h3>
            	<p>
	                A copy-editor verifies an EPUB publication before release. They open the
	                EPUB publication in a reading system that supports this specification,
	                annotate text containing typos and images with missing
	                descriptions. They export their set of annotations to a destination
	                folder with a specific file name and provide the file to the
	                EPUB creator. The EPUB creator associates the annotation set
	                with the EPUB file in an editing tool that supports this
	                specification, reviews the annotations, and corrects the EPUB accordingly.
	            </p>
            </section>
            <section>
				<h3>Automated reports</h3>
            	<p>
                    A machine agent, such as a conformance checker or evaluation tool, 
                    analyzes a publication and produces a structured set of annotations that identify 
                    errors, warnings, relevant specification references, and proposed corrections or enhancements. 
                    The annotation set is then exchanged between production systems and reading or QA tools 
                    so that human operators can review, filter, resolve the reported issues,
                    and re-run the tool to obtain an updated annotation set.​
	            </p>
            </section>
			<section>
				<h3>Annotation used in the classroom</h3>
            	<p>
	                A teacher reads an ebook and prepares some annotations. They add
	                a keyword to each annotation so that students can group them
	                easily; examples of keywords include “clarification”,
	                “question”. They export an annotation
	                file and share this file with their students. Their name (or
	                nickname) is attached to each annotation. The students import
	                the same ebook and the teacher's annotation file into their
	                reading system. Annotations prepared by the teacher appear
	                in the ebook. Students add their own annotations to the ebook
	                and send them back to the teacher, with keywords like “interpretation”. 
                    Their name or nickname is also attached to their annotations.
	            </p>
            </section>
        </section>
				<section>
					<h2>Generating citations</h2>
					<p>
						A student had temporary access to an EPUB publication via an academic subscription bundle.
						They have annotated the ebook while they had access to it and exported their set of annotations.
						They no longer have access to the ebook.

						These annotations are nevertheless useful to them, as they include ebook metadata 
                        (title, author, year of publication), and each annotation is associated with an indication 
                        of the progression in the publication (print pagination if present, % of progression in the publication, 
                        timestamp in the case of an audiobook), and contextual information like the chapter or section 
                        in which the annotation was created.
						They can therefore import the annotations in a specialized tool to generate citations in a standardized format, 
                        like APA or MLA. Once generated, these citations can be copied and pasted in a word processor, in a bibliography 
                        or in a note-taking application, to prepare a report or an essay.
					</p>
				</section>
        <section>
            <h2>Synchronizing annotations</h2>
						<section>
							<h3>Synchronizing annotations among devices</h3>
							<p>
									A user annotates an EPUB publication. They synchronize their notes and
									bookmarks with their other personal devices via a standardized
									Cloud mechanism supported by each of these systems.
							</p>
						</section>
						<section>
							<h3>Sharing annotations among readers</h3>
							<p>
									Participants in a book club read the same EPUB publication ebook during a
									period of time, in a reading system that supports this
									specification. Each participant adds notes to the ebook, and
									these annotations are shared via a standardized Cloud mechanism
									supported by their reading system. The name of each participant
									appears, so that each participant can see who made which
									annotation.
										</p>
						</section>
				</section>
        <section>
            <h2>Surviving EPUB publication versioning</h2>
            <p>
                A user has annotated a textual section of an EPUB publication and closed the
                ebook. Today, they load a new version of the EPUB publication in their reading
                system. The spine item in which the annotations were created has
                been modified, and some words have been added to the leaf HTML
                element in which an annotation was created, before the start of
                the annotation and in the annotated text itself. Nevertheless, the user
                gets the annotation at the proper location.
            </p>
            <p>
                The same user loads a new edition of the EPUB publication in their reading
                system. A new resource - a foreword - has been added to the
                spine, and the page list has been modified. Still, the user gets
                the annotation at the proper location.
            </p>
        </section>
        <section>
            <h2>List of requirements</h2>
            <p>
                In this section, we will list all requirements the  
                EPUB Annotations specification must respect to fulfill the use cases 
                listed in the previous sections. 
                Not all requirements will be adopted during the implementation phase, and some 
                aspects may be postponed to future versions of the specification. 
            </p>
            <div class="note">
				<p>Cross-device synchronization of annotations and bookmarks via cloud services, 
                    with a clear author attribution and the possibility of real-time updates, 
                    is considered out of scope for this specification.
                </p>
			</div>

            <p>
                The EPUB Annotation specification will provide the following features: 
            </p>
            <section>
                <h3>Annotation Intents</h3>
                <ul>
                    <li>Support for highlights.</li>
                    <li>Support for bookmarks.</li>
                    <li>Support for notes.</li>
                </ul>
            </section>

            <section>
                <h3>Types of notes</h3>
                <ul>
                    <li>Support for notes in plain text and rich text formatting for (e.g., bold, italic, underline, subtitles).</li>
                    <li>Support for audio notes</li>
                    <li>Support for image notes.</li>
                </ul>
            </section>

            <section>
                <h3>Annotation parameters</h3>
                <ul>
                    <li>Support for highlight colors and styles (e.g. solid background, underline)</li>
                    <li>Support for the language and text direction of textual notes</li>
                    <li>Support for keyword tagging.</li>
                </ul>
            </section>

            <section>
                <h3>Selector Types</h3>
                <ul>
                    <li>Support for progression selectors, which, even if imprecise, are helpful to order annotations in a list and help position annotations if other selectors fail.</li>
                    <li>Support for character-level selectors, which provide adequate selectors for bookmarks and last reading locations.</li>
                    <li>Support for text range at a character level, including customizable highlights and optional notes.</li>
                    <li>Support for full-image selection, with the same features as text annotations.</li>
                    <li>Support for partial-image annotation at the pixel level, allowing rectangular area selection within images or diagrams.</li>
                    <li>Support for full-audio  annotation at the millisecond level.</li>
                    <li>Support for audio segment annotation at the millisecond level, enabling time-based selection and annotation of audio clips.</li>
                </ul>
            </section>

            <section>
                <h3>Threaded Discussions</h3>
                <ul>
                    <li>Ability to create and manage annotation threads, linking responses to original annotations.</li>
                </ul>
            </section>

            <section>
                <h3>Export and Import</h3>
                <ul>
                    <li>Ability to embed annotations within the EPUB package for distribution.</li>
                    <li>Ability to export annotations as standalone files, including metadata identifying the ebook.</li>
                    <li>Ability to import external annotation files and linking them to an already imported EPUB, with support for author attribution.</li>
                </ul>
            </section>

            <section>
                <h3>Version Resilience</h3>
                <ul>
                    <li>Support for the persistence of annotations across EPUB updates, including structural changes (e.g., added text, modified spine, new resources).</li>
                    <li>Support for the automatic repositioning of annotations to maintain accuracy in updated or revised EPUBs.</li>
                </ul>
            </section>
        </section>
    </body>
</html>
