# .github/workflows/epub-a11y-12.yml
name: CI (EPUB Accessibility)
on:
  pull_request:
    paths: 
      - "epub34/a11y/**"
      - "epub34/acknowledgements.html"
      - "common/**"
  push:
    branches: [main]
    paths: 
      - "epub34/a11y/**"
      - "epub34/acknowledgements.html"
      - "common/**"
  workflow_dispatch:
    paths: 
      - "epub34/a11y/**"
      - "epub34/acknowledgements.html"
      - "common/**"
jobs:
  main:
    name: Publish EPUB Accessibility 1.2
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: w3c/spec-prod@v2
        with:
          SOURCE: epub34/a11y/
          TOOLCHAIN: respec
          W3C_ECHIDNA_TOKEN: ${{ secrets.W3C_TR_TOKEN_A11Y }}
          W3C_WG_DECISION_URL: https://lists.w3.org/Archives/Public/public-pm-wg/2023Oct/0028.html
          W3C_BUILD_OVERRIDE: |
             shortName: epub-a11y-12
             specStatus: WD
