<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../util/docbook/schema/docbookspec.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="../../util/docbook/schema/docbookspec.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="../../util/docbook/schema/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:epub="http://www.idpf.org/2011/epub" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1" xml:lang="en">
	<title>EPUB 3.1 Changes from EPUB 3.0.1</title>

	<info>
		<releaseinfo>Editor's Draft</releaseinfo>
		<pubdate>30 January 2016</pubdate>
		<releaseinfo role="preamble">This document summarizes changes included in the most current draft of <link
				xlink:href="http://www.idpf.org/epub/31/spec/epub-spec.html">EPUB 3.1</link>. Note that this list of changes
			is not exhaustive; additional changes are under consideration and will be included in forthcoming
			drafts.</releaseinfo>
		<annotation>
			<title>Important Note about Changes</title>

			<para>The EPUB working group has opted for a radical change approach to the addition and deletion of features in
				the 3.1 revision to move the standard aggressively forward with the overarching goals of alignment with the
				Open Web Platform and simplification of the core specifications.</para>
			<para>It is expected that some of these radical changes will provoke strong reactions both for and against, as
				the working group has taken this approach to fully gauge the community response.</para>
			<para>The changes made in these drafts are not final until the revision concludes, and if strong negative
				reactions are voiced from the community they will be reviewed for future drafts.</para>
			<para>Links to the relevant open issues in the <link xlink:href="https://github.com/IDPF/epub-revision/issues"
					>working group tracker</link> have been included for each change listed in this document. To express
				concerns about any of these changes, please add a comment to the appropriate issue.</para>
		</annotation>
		<printhistory>
			<formalpara>
				<title>This version</title>
				<para><link xlink:href="http://www.idpf.org/epub/301/spec/epub-changes-20160130.html"/></para>
			</formalpara>
			<formalpara>
				<title>Latest version</title>
				<para><link xlink:href="http://www.idpf.org/epub3/latest/changes"/></para>
			</formalpara>
			<formalpara>
				<title>Previous version</title>
				<para>N/A</para>
			</formalpara>
		</printhistory>
		<releaseinfo role="history"><link
				xlink:href="https://github.com/IDPF/epub-revision/commits/master/src/spec/epub-changes.xml">Changes to this
				document</link></releaseinfo>
		<xi:include href="./share/copyright.xml"/>
		<xi:include href="./share/legalnotice.xml"/>
		<authorgroup>
			<editor>
				<personname>Markus Gylling</personname>
				<affiliation>
					<org>
						<orgname>International Digital Publishing Forum (IDPF)</orgname>
					</org>
				</affiliation>
			</editor>
			<editor>
				<personname>Matt Garrish</personname>
				<affiliation>
					<org>
						<orgname>Invited Expert</orgname>
					</org>
				</affiliation>
			</editor>
		</authorgroup>
		<abstract>
			<title>EPUB 3.1 Changes from EPUB 3.0.1</title>
			<para>EPUB 3 defines the third major revision of EPUB, a digital publication interchange and delivery format
				based on XML and Web Standards. This document informatively describes the changes in EPUB 3.1 from the
				previous release, EPUB 3.0.1.</para>
		</abstract>
	</info>

	<xi:include href="share/status.xml"/>

	<chapter xml:id="sec-introduction">
		<title>Introduction</title>

		<para>EPUB® is an interchange and delivery format for digital publications, based on XML and Web Standards. An EPUB
			Publication can be thought of as a reliable packaging of Web content that represents a digital book, magazine, or
			other type of publication, and that can be distributed for online and offline consumption. </para>

		<para>This document, EPUB 3.1 Changes from EPUB 3.0.1, describes changes made in the first major revision of the EPUB
			3.0 specifications, highlighting key changes and additions.</para>

		<para>This document is non-normative. Consult the <olink targetdoc="spec" targetptr="sec-epub-specs" type="epub-spec"
				epub:specref-exclude="true">EPUB specifications</olink> for definitive information on EPUB 3.</para>

		<para>Unless otherwise specified, terms used herein have the meaning defined in <olink targetdoc="spec"
				targetptr="sec-terminology" type="epub-spec"/>.</para>

		<section xml:id="sec-diff-intro-history">
			<title>EPUB Revision History</title>

			<para>EPUB had its roots in the interchange format known as the Open EBook Publication Structure (OEBPS). OEBPS
				1.0 was approved in 1999 by the Open eBook Forum, an organization that later became the International Digital
				Publishing Forum (IDPF). Subsequent revisions 1.1 and 1.2 were approved by the IDPF in 2001 and 2002
				respectively.</para>

			<para> It was realized that a need existed for a format standard that could be used for delivery as well as
				interchange, and work began in late 2005 on a single-file container format for OEPBS, which was approved by
				the IDPF as the OEBPS Container Format (OCF) in 2006. Work on a 2.0 revision of OEBPS began in parallel which
				was approved as the renamed EPUB 2.0 in October, 2007, consisting of a triumvirate of specifications: Open
				Package Format (OPF), Open Publication Format (OPF) together with OCF. EPUB 2.0.1, a maintenance update to
				the 2.0 specification set primarily intended clarify and correct errata in the specifications, was approved
				in September, 2010. <xref linkend="refOPF2"/>
				<xref linkend="refOPS2"/>
				<xref linkend="refOCF2"/></para>

			<para>Work on a major new 3.0 revision of the EPUB specifications began in 2010, with the goal of aligning EPUB
				more closely with HTML5, and in the process bringing new, native multimedia features, sophisticated CSS
				layout rendering and font embedding, scripted interactivity, enhanced global language support, and improved
				accessibility. A new specification, EPUB Media Overlays was also introduced, enabling text and audio
				synchronization in EPUB Publications. To better align the specification names with the standard, the Open
				Package Format specification was renamed EPUB Publications and the Open Publication Format specification was
				renamed EPUB Content Documents. The EPUB 3.0 specifications were approved in October, 2011. <xref
					linkend="refPublications30"/>
				<xref linkend="refContentDocs30"/>
				<xref linkend="refOCF30"/>
				<xref linkend="refOverlays30"/></para>

			<para>The EPUB 3.0.1 revision was undertaken in 2013-14. Although introducing mostly minor fixes and updates, it
				did see the integration of Fixed Layout Documents, which give Authors greater control over presentation when
				a reflowable EPUB is not suitable for the content. <xref linkend="refPublications301"/>
				<xref linkend="refContentDocs301"/>
				<xref linkend="refOCF301"/>
				<xref linkend="refOverlays301"/></para>
		</section>

	</chapter>

	<chapter xml:id="sec-reorg">
		<title>Specification Reorganization</title>

		<para>To simplify reading and referencing of the EPUB standard, a major reorganization of the specifications was
			undertaken in this revision. Foremost among the changes, a new umbrella <olink targetdoc="spec" type="epub-spec"
				targetptr="sec-overview" epub:specref-exclude="true">EPUB 3.1 specification</olink> was introduced as the
			primary point of entry. EPUB Publication and Reading System requirements that were formerly defined in <xref
				linkend="refPublications301"/> were moved to this new top-level specification, as was the section on <olink
				targetdoc="spec" targetptr="sec-publication-resources" type="epub-spec" epub:specref-exclude="true"
				>Publication Resources</olink>. These changes were intended to remove confusion that EPUB Publications are
			equivalent to the Package Document. All <olink targetdoc="spec" targetptr="sec-terminology" type="epub-spec"
				epub:specref-exclude="true">common terminology</olink> was collected into this top-level specification, as
			well, to provide a common point of reference. An <olink targetdoc="spec" targetptr="index" type="epub-spec"
				epub:specref-exclude="true">index of key concepts</olink> and terms was also added to aid navigation of the
			various sub-specifications.</para>

		<para><xref linkend="refPublications301"/> was renamed to <olink targetdoc="packages" targetptr="sec-overview"
				type="epub-spec" epub:specref-exclude="true">EPUB Packages 3.1</olink> to better reflect that it defines
			Renditions of content through the Package Document. The EPUB Navigation Document definition was moved from <xref
				linkend="refContentDocs301"/> to this specification as it is a central component of a Package and not a
			feature to be implemented in random EPUB Content Documents. All property definitions previously defined within
			this specification were moved out to the <xref linkend="refEPUBPackageVocab"/>.</para>

		<para><xref linkend="refOverlays3"/> also saw its embedded property definitions removed to a separate vocabulary, but
			was otherwise unchanged structurally.</para>

		<para><xref linkend="refContentDocs3"/> underwent mostly cosmetic changes outside of the removal of the EPUB
			Navigation Document definition. Some sections were renamed to better reflect that they are not unique document
			types but ways of enhancing content documents (e.g., the section "Scripted Content Documents" was changed to
			"Scripting"), but otherwise the arrangement of sections remains largely unchanged.</para>

		<para><xref linkend="refOCF3"/> similarly underwent some minor editorial and structure cleanup, but no sections were
			added or removed.</para>

		<note>
			<para>To comment on this change, please see <link xlink:href="https://github.com/IDPF/epub-revision/issues/640"
					>Issue #640</link>.</para>
		</note>

	</chapter>

	<chapter xml:id="sec-epub31">
		<title>EPUB 3.1</title>

		<section xml:id="sec-epub31-cmt">
			<title>New Core Media Types</title>

			<para>EPUB 3.1 adds the <olink targetdoc="spec" targetptr="cmt-woff2" type="epub-spec"
					epub:specref-exclude="true">WOFF 2.0</olink> and <olink targetdoc="spec" targetptr="cmt-sfnt"
					type="epub-spec" epub:specref-exclude="true"/> font formats as Core Media Types.</para>
		</section>

		<section xml:id="sec-epub31-fallbacks">
			<title>Clarification of Foreign Resource Fallbacks</title>
			<para>EPUB 3.1 adds an additional clarification that foreign resources <olink targetdoc="spec"
					targetptr="sec-foreign-restrictions" type="epub-spec" epub:specref-exclude="true">do not require
					fallbacks</olink> if they are not in the spine and not embedded in EPUB Content Documents.</para>
			<para>This change will allow authors to include data files for use by scripts without unnecessary fallbacks,
				among other benefits.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/592">Issue #592</link>.</para>
			</note>
		</section>

		<section xml:id="sec-epub31-cfi">
			<title>Removed support for EPUBCFI for linking</title>

			<para>EPUB 3.1 drops the requirement for Reading Systems to support EPUB Canonical Fragment Identifiers <xref
					linkend="refEPUBCFI"/> for hyperlinking (cf. the <link
					xlink:href="http://www.idpf.org/epub/301/spec/epub-publications.html#confreq-rs-cfi">EPUB 3.0.1 EPUBCFI
					requirement</link>).</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/662">Issue #662</link>.</para>
			</note>
		</section>
	</chapter>

	<chapter xml:id="sec-pkg">
		<title>Packages 3.1</title>

		<section xml:id="sec-pkg-metadata">
			<title>Package Metadata Changes</title>

			<para>EPUB 3.1 redefines a <olink targetdoc="packages" targetptr="sec-metadata-elem" type="epub-spec"
					epub:specref-exclude="true">new minimal set of metadata</olink> in the Package Document that is intended
				only for use by Reading Systems in cataloguing and for display to Users. One dc:identifier and dc:title, one
				or more dc:language, zero or more dc:creator, one optional dc:publisher and zero or more dc:type elements are
				now allowed. All other DCMES elements have been removed. If authors wish to include more detailed
				bibliographic metadata, they are now encouraged to use the <olink targetdoc="packages"
					targetptr="sec-link-elem" type="epub-spec" epub:specref-exclude="true">link element to attach
					records</olink>.</para>
			<para>The <markup>refines</markup> attribute, previously used to chain metadata statements together, is dropped
				from the <olink targetdoc="packages" targetptr="sec-meta-elem" type="epub-spec" epub:specref-exclude="true"
					>meta element</olink>. A <markup>file-as</markup> attribute has been added to the dc:title, dc:creator,
				and dc:publisher elements to handle sorting needs in Reading Systems.</para>
			<para>EPUB 3.1 also changes the precedence order of linked records, <olink targetdoc="packages"
					targetptr="sec-link-elem" type="epub-spec" epub:specref-exclude="true">prioritizing bibliographic
					information in linked records</olink> over the information included directly in the Package Document
					<markup>metadata</markup> element.</para>
			<para>The OPF2 <markup>meta</markup> element has also been dropped.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/642">Issue #642</link>.</para>
			</note>
		</section>

		<section xml:id="sec-pkg-ncx">
			<title>Removal of the NCX</title>

			<para>EPUB 3.1 does not support the inclusion of the EPUB 2 NCX file for navigation (cf. <link
					xlink:href="http://www.idpf.org/epub/301/spec/epub-publications.html#ncx-superseded">EPUB 3.0.1
					NCX</link>). The <markup>toc</markup> attribute for referencing the file is consequently not part of the
				Package Document grammar.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/633">Issue #633</link>.</para>
			</note>
		</section>

		<section xml:id="sec-pkg-guide">
			<title>Removal of the <markup>guide</markup> Element</title>

			<para>EPUB 3.1 drops the deprecated <markup>guide</markup> element (cf. <link
					xlink:href="http://www.idpf.org/epub/301/spec/epub-publications.html#sec-guide-elem">EPUB 3.0.1
						<markup>guide</markup> element</link>).</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/644">Issue #644</link>.</para>
			</note>
		</section>

		<section xml:id="sec-pkg-bindings">
			<title>Removal of the <markup>bindings</markup> Element</title>

			<para>EPUB 3.1 does not support the use of bindings in the Package Document to provide an alternative scripted
				fallback for foreign resources embedded in an object element (cf. <link
					xlink:href="http://www.idpf.org/epub/301/spec/epub-publications.html#sec-bindings-elem">EPUB 3.0.1
						<markup>bindings</markup></link>).</para>
			<para>The <xref linkend="refHTML5"/>
				<markup>object</markup> element's <olink targetdoc="contentdocs" targetptr="sec-html-fallbacks"
					type="epub-spec" epub:specref-exclude="true">intrinsic fallback mechanism</olink> (embedded content)
				remains for providing a Core Media Type fallback.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/639">Issue #639</link>.</para>
			</note>
		</section>
	</chapter>

	<chapter xml:id="sec-cdoc">
		<title>Content Documents 3.1</title>

		<section xml:id="sec-cdoc-html">
			<title>Addition of Support for HTML Syntax of HTML5</title>

			<para>EPUB 3.1 adds the HTML syntax of HTM5 as a <olink targetdoc="spec" targetptr="cmt-html" type="epub-spec"
					epub:specref-exclude="true">core media type</olink>. <olink targetdoc="contentdocs"
					targetptr="confreq-html-rs-behavior-syntax" type="epub-spec" epub:specref-exclude="true">Reading Systems
					have to support</olink> both the HTML and XHTML syntaxes of HTML5. Authors <olink targetdoc="contentdocs"
					targetptr="confreq-cd-html-docprops-syntax" type="epub-spec" epub:specref-exclude="true">can use either
					syntax</olink> for the content, and may mix documents with different syntaxes in the same
				publication.</para>

			<para>A primary result of this change is that the <olink targetdoc="contentdocs"
					targetptr="sec-epub-type-attribute" type="epub-spec" epub:specref-exclude="true">epub:type
					attribute</olink> (usable only in the XHTML syntax) has been superseded by the <olink
					targetdoc="contentdocs" targetptr="sec-html-aria-role-attribute" type="epub-spec"
					epub:specref-exclude="true">ARIA role attribute</olink>.</para>

			<para>The <olink targetdoc="packages" targetptr="sec-package-nav-def-model" type="epub-spec"
					epub:specref-exclude="true">EPUB Navigation Document</olink> will require both the <markup>role</markup>
				and <markup>epub:type</markup> attributes be declared in order to be compatible with EPUB 3.0(.1) Reading
				Systems.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/636">Issue #636</link>.</para>
			</note>
		</section>

		<section xml:id="sec-cdoc-css">
			<title>Replacement of EPUB Style Sheets with CSS References</title>

			<para>EPUB 3.1 removes the EPUB Style Sheets profile. In its place, more general <olink targetdoc="contentdocs"
					targetptr="sec-css" type="epub-spec" epub:specref-exclude="true">CSS support requirements</olink> are
				being defined:</para>

			<itemizedlist>
				<listitem>
					<para>CSS support is now required for visual Reading Systems.</para>
				</listitem>
				<listitem>
					<para>Rather than a CSS profile, EPUB 3.1 uses the “official definition” of CSS from the CSS Working
						Group Snapshot.</para>
				</listitem>
				<listitem>
					<para>The restriction on the use of <property>position: fixed</property> is removed.</para>
				</listitem>
				<listitem>
					<para>The restriction on the use of <property>position: absolute</property> is removed.</para>
				</listitem>
				<listitem>
					<para>All <property>-epub-</property> prefixed properties from CSS Speech are removed due to lack of
						implementations.</para>
				</listitem>
				<listitem>
					<para>The <property>-epub-ruby-position</property> property is removed.</para>
				</listitem>
				<listitem>
					<para>The <property>-epub-text-combine-horizontal</property> property is removed.</para>
				</listitem>
				<listitem>
					<para>The <property>-epub-fullsize-kana</property> property is removed.</para>
				</listitem>
				<listitem>
					<para>The <property>-epub-text-emphasis</property> shorthand property is removed.</para>
				</listitem>
				<listitem>
					<para>The <markup>use-glyph-orientation</markup> and <markup>sideways-left</markup> values of
							<property>-epub-text-orientation</property> are removed.</para>
				</listitem>
			</itemizedlist>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/659">Issue #659</link>.</para>
			</note>
		</section>

		<section xml:id="sec-cdoc-scripting">
			<title>Scripting Support Clarifications</title>

			<para>EPUB 3.1 makes the following changes to <olink targetdoc="contentdocs" targetptr="sec-scripted-content"
					type="epub-spec" epub:specref-exclude="true">scripting support</olink>:</para>

			<itemizedlist>
				<listitem>
					<para>Container-constrained scripting is limited to the <xref linkend="refHTML5"/>
						<markup>iframe</markup> element (removed <markup>embed</markup> and <markup>object</markup>).</para>
				</listitem>
				<listitem>
					<para>Reading Systems should support container-constrained scripting (down from "must" because of
						security and privacy concerns around scripting)</para>
				</listitem>
				<listitem>
					<para>Reading Systems should support spine-level scripting in fixed layout documents and the
						"scrolled-doc" and "scrolled-continuous" interfaces defined by the <olink targetdoc="packages"
							targetptr="layout-property-flow" type="epub-spec" epub:specref-exclude="true">rendition:flow
							property</olink></para>
				</listitem>
				<listitem>
					<para>If a Reading System supports spine-level scripting in reflowable documents, it must support the
						"scrolled-doc" interface and should support the "scrolled-continuous" interface.</para>
				</listitem>
			</itemizedlist>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/660">Issue #660</link>.</para>
			</note>
		</section>

		<!--		<section xml:id="sec-cdoc-uivisible">
			<title>Reading System Visibility Property</title>

			<para>A new <olink targetdoc="contentdocs" targetptr="propdef-uiVisible" type="epub-spec"
					epub:specref-exclude="true">uiVisible property</olink> is added to the <olink targetdoc="contentdocs"
					targetptr="app-epubReadingSystem" type="epub-spec" epub:specref-exclude="true">epubReadingSystem
					object</olink> to allow scripts to query whether the Reading System chrome is currently being
				displayed.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/648">Issue #648</link>.</para>
			</note>
		</section> -->

		<section xml:id="sec-cdoc-wcag">
			<title>Addition of WCAG Support</title>

			<para>Previously, only Scripted Content Documents were recommended to conform to WCAG. EPUB 3.1 now recommends
				that all HTML Content Documents <olink targetdoc="contentdocs" targetptr="confreq-cd-html-accessibility"
					type="epub-spec" epub:specref-exclude="true">conform to WCAG 2.0 Level AA</olink>. The <olink
					targetdoc="contentdocs" targetptr="confreq-cd-svg-accessibility" type="epub-spec"
					epub:specref-exclude="true">recommendation for SVG Content Documents</olink> to conform to the SVG
				Accessibility Note has been updated to reference WCAG.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/658">Issue 658</link>.</para>
			</note>
		</section>

		<section xml:id="sec-cdoc-switch">
			<title>Removal of the <markup>switch</markup> Element</title>

			<para>EPUB 3.1 does not support the inclusion of the <markup>switch</markup> element for conditional display of
				content (cf. <link
					xlink:href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html#sec-xhtml-content-switch">EPUB 3.0.1
						<markup>switch</markup> element</link>).</para>
			<para>Authors are instead directed to the existing guidance on the use of the <olink targetdoc="contentdocs"
					targetptr="sec-html-mathml-alt" type="epub-spec" epub:specref-exclude="true">MathML alttext and altimg
					attributes</olink>.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/637">Issue #637</link>.</para>
			</note>
		</section>

		<section xml:id="sec-cdoc-trigger">
			<title>Removal of the <markup>trigger</markup> Element</title>

			<para>EPUB 3.1 does not support the inclusion of the <markup>trigger</markup> element for declarative control of
				audio and video content (cf. <link
					xlink:href="http://www.idpf.org/epub/301/spec/epub-contentdocs.html#sec-xhtml-epub-trigger">EPUB 3.0.1
					trigger element</link>).</para>
			<para>Authors are advised to use the native controls provided by the <xref linkend="refHTML5"/>
				<markup>audio</markup> and <markup>video</markup> elements.</para>

			<note>
				<para>To comment on this change, please see <link
						xlink:href="https://github.com/IDPF/epub-revision/issues/638">Issue #638</link>.</para>
			</note>
		</section>
	</chapter>

	<xi:include href="./share/contributors.xml"/>

	<xi:include href="./share/references.xml"/>
</book>
